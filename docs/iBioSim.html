<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
           "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<meta name="GENERATOR" content="TtH 3.85">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
 


<title> iBioSim User's Manual</title>
 
<h1 align="center">iBioSim User's Manual </h1>

<div class="p"><!----></div>

<h3 align="center">Chris J. Myers, Nathan Barker, Kevin Jones, Hiroyuki Kuwahara,<br />Curtis
  Madsen, Nam Nguyen, Tyler Patterson, Nicholas Roehner, Jason Stevens </h3> 

<div class="p"><!----></div>

<div class="p"><!----></div>
 
<div class="p"><!----></div>

<h1>Contents </h1><a href="#tth_sEc1"
>1&nbsp; Introduction</a><br />
<a href="#tth_sEc2"
>2&nbsp; Project Management</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc2.1"
>2.1&nbsp; Creating and Opening Projects</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc2.2"
>2.2&nbsp; Creating and Opening Models and Graphs</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc2.3"
>2.3&nbsp; Importing Models</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc2.4"
>2.4&nbsp; Exporting Models and Graphs</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc2.5"
>2.5&nbsp; Editing Project Objects and Creating Tool Views</a><br />
<a href="#tth_sEc3"
>3&nbsp; Model Editor</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.1"
>3.1&nbsp; Species</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.2"
>3.2&nbsp; Reactions</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.3"
>3.3&nbsp; Components</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.4"
>3.4&nbsp; Promoters</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.5"
>3.5&nbsp; Influences</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.6"
>3.6&nbsp; Compartments</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.7"
>3.7&nbsp; Parameters</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.8"
>3.8&nbsp; Definitions</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.9"
>3.9&nbsp; Assignments</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.10"
>3.10&nbsp; Properties</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc3.11"
>3.11&nbsp; Events</a><br />
<a href="#tth_sEc4"
>4&nbsp; SBOL Browser</a><br />
<a href="#tth_sEc5"
>5&nbsp; Analysis Tool</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc5.1"
>5.1&nbsp; Simulation Options</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc5.2"
>5.2&nbsp; Abstraction Options</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc5.3"
>5.3&nbsp; Schematic</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc5.4"
>5.4&nbsp; Parameters</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tth_sEc5.5"
>5.5&nbsp; SBML Elements</a><br />
<a href="#tth_sEc6"
>6&nbsp; Learn Tool</a><br />
<a href="#tth_sEc7"
>7&nbsp; TSD Graph Editor</a><br />
<a href="#tth_sEc8"
>8&nbsp; Histogram Graph Editor</a><br />
<a href="#tth_sEc9"
>9&nbsp; Preferences</a><br />
<a href="#tth_sEc10"
>10&nbsp; Mathematical Formulas</a><br />
<a href="#tth_sEc11"
>11&nbsp; Continuous Stochastic Logic (CSL) Formulas</a><br />
<a href="#tth_sEc12"
>12&nbsp; Time Series Data Format</a><br />
<a href="#tth_sEc13"
>13&nbsp; Tutorial</a><br />
<a href="#tth_sEc14"
>14&nbsp; Reporting Bugs and Feature Requests</a><br />


<div class="p"><!----></div>
  
<div class="p"><!----></div>
 <h2><a name="tth_sEc1">
1</a>&nbsp;&nbsp;Introduction</h2>

<div class="p"><!----></div>
<tt>iBioSim</tt> has been developed for the modeling, analysis, and design of genetic circuits.  While the primary target of <tt>iBioSim</tt> is models of genetic circuits, models representing metabolic networks, cell-signaling pathways, and other biological and chemical systems can also be analyzed.  Recently, modeling and visualization support has been added for static multi-cellular and spatial models as well.
It is capable of importing and exporting models specified using the <A HREF="http://www.sbml.org/">
<em>Systems Biology Markup Language</em>
</A>
&nbsp;(SBML).  It can import all levels and versions while being able to export Level 2 Version 4 or Level 3 Version 1.  It supports all SBML modeling constructs except the <em>delay</em> function and some types of <em>fast</em> reactions.  It was the first tool to produce correct results for all examples in the SBML benchmark suite.  It has also been tested successfully on the stochastic benchmark suite and the curated models in the 
<A HREF="http://www.ebi.ac.uk/biomodels-main/">
<em>BioModels database</em>.
</A>
Finally, it is one of the first tools to also support the 
<A HREF="http://www.sbolstandard.org/">
<em>Synthetic Biology Open Language</em>
</A>  
(SBOL), an emerging standard for information exchange in synthetic biology.
<tt>iBioSim</tt> includes the following components: 

<ul>
<li> Model Editor - a tool to create a model of a genetic circuit or other biological system.
<div class="p"><!----></div>
</li>

<li> SBOL Browser - a tool to view SBOL files and associate DNA components to model elements.
<div class="p"><!----></div>
</li>

<li> Analysis Tool - an abstraction-based ODE, Monte Carlo, and Markov analysis tool.
<div class="p"><!----></div>
</li>

<li> Learn Tool - a tool to learn a model from <em>time series data</em> (TSD).
<div class="p"><!----></div>
</li>

<li> TSD Graph Editor- a tool to visualize TSD files.
<div class="p"><!----></div>
</li>

<li> Histogram Graph Editor - a tool to visualize probability data.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<h2>Credits</h2>

<div class="p"><!----></div>
The iBioSim tool is being developed at the University of Utah
by 
<A HREF="http://www.async.ece.utah.edu/~myers">
Chris Myers, 
</A>,
<A HREF="http://www.cs.utah.edu/~barkern">
Nathan Barker, 
</A>,
<A HREF="http://www.async.ece.utah.edu/~kjones">
Kevin Jones, 
</A>,
<A HREF="http://www.cs.utah.edu/~kuwahara">
Hiroyuki Kuwahara, 
</A>,
<A HREF="http://www.async.ece.utah.edu/~cmadsen">
Curtis Madsen, 
</A>,
<A HREF="http://www.cs.utah.edu/~namphuon">
Nam Nguyen, 
</A>,
<A HREF="http://www.cs.utah.edu/~patterson">
Tyler Patterson, 
</A>,
<A HREF="http://www.cs.utah.edu/~patterson">
Nicholas Roehner, 
</A>, 
and
<A HREF="http://www.cs.utah.edu/~patterson">
Jason Stevens.  
</A>.
Nathan Barker is now with Southern Utah University, Kevin Jones is now with Raytheon, Hiroyuki Kuwahara is now with Carnegie Mellon University, and Nam Nguyen is now with the University of Texas in Austin.

<div class="p"><!----></div>
 <h2><a name="tth_sEc2">
2</a>&nbsp;&nbsp;Project Management</h2>

<div class="p"><!----></div>
Within <tt>iBioSim</tt>, all files are collected within projects.   
A project is a collection of models, analysis views, learn views, and graphs.  As shown below, <tt>iBioSim</tt> displays all project files on the left; the open models, views, and graphs on the right; and a log of all external commands on the bottom.  The menu bar is located on the top of the window in the Windows and Linux versions.  It is located on the top of the screen in the MacOS version.

<div class="p"><!----></div>

<center><img src="screenshots/iBioSim.png" alt="screenshots/iBioSim.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc2.1">
2.1</a>&nbsp;&nbsp;Creating and Opening Projects</h3>

<div class="p"><!----></div>
To create a new project, select New &#8594; Project from the File menu as shown below.  You will then be prompted to browse to a desired location and to give a name to the project directory.  After you do this, click the new button and a new project directory will be created.  To open a project, select Open &#8594; Project from the File menu.  You will then be prompted to browse to a project directory to open, and clicking open will open the project. You may also open a project by selecting one of your ten most recently opened projects by selecting the project name shown in the File drop down menu shown below. 

<div class="p"><!----></div>

<center><img src="screenshots/project.png" alt="screenshots/project.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc2.2">
2.2</a>&nbsp;&nbsp;Creating and Opening Models and Graphs</h3>

<div class="p"><!----></div>
After you have created or opened a project, you can create a new model or graph to add to the project.  To create a new model, select New &#8594; Model from the File menu as shown below. You will then be prompted to enter a model ID.  At this point, a Model editor (see Section&nbsp;<a href="#ModelEdit">3</a>) will open in a new tab.  To create a new LPN model, select New &#8594; LPN Model from the File menu. You will then be prompted to give a model ID.  At this point, an LPN model editor 
will open in a new tab. To create a new TSD graph, select New &#8594; TSD Graph from the File menu. You will then be prompted to give a name to the TSD graph.  At this point, a TSD graph editor (see Section&nbsp;<a href="#TSDGraph">7</a>) will open in a new tab. To create a new histogram, select New &#8594; Histogram from the File menu. You will then be prompted to give a name to the histogram.  At this point, a histogram editor (see Section&nbsp;<a href="#Histogram">8</a>) will open in a new tab.  Once a model or graph is created, it can be opened again later by right-clicking on the object in the project window and selecting "View/Edit" or, alternatively, double-clicking on the object.  Note that a model can be opened in either a graphical or textual editor.  An open model or graph can be closed by either clicking on the "X" in the tab or by selecting File &#8594; Close.  The File &#8594; Close All option will close all tabs.

<div class="p"><!----></div>

<center><img src="screenshots/newModel.png" alt="screenshots/newModel.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc2.3">
2.3</a>&nbsp;&nbsp;Importing Models</h3>

<div class="p"><!----></div>
You can also import models into the current working project.  These can be models from other <tt>iBioSim</tt> projects, models in the 
<A HREF="http://www.sbml.org/">
<em>Systems Biology Markup Language</em>
</A>
&nbsp;(SBML), models from the
<A HREF="http://www.ebi.ac.uk/biomodels-main/">
<em>BioModels database</em>
</A>
, LPN models, or a 
<A HREF="http://www.sbolstandard.org/">
<em>Synthetic Biology Open Language</em>
</A>  
(SBOL) file (see Section&nbsp;<a href="#SBOL">4</a>). 
To import an <tt>iBioSim</tt> model, select File &#8594; Import &#8594; iBioSim Model.  
You will then be able to browse to find a model to import.  After  selecting the desired model, click the import button to bring the model into the project.  Before bringing the model into the project, it will be checked to see if it is a valid model file.  To import an SBML model, the procedure is the same except use the Import &#8594; SBML Model option.  Before bringing the model into the project, it will be checked to see if it a valid SBML file.  
The model will also be checked for consistency, and any errors or warnings will be reported.  These should be corrected before analysis of the model is performed.  Importing of an LPN model or an SBOL file are similar in that you are asked to locate the appropriate file to import.

<div class="p"><!----></div>

<center><img src="screenshots/import.png" alt="screenshots/import.png" />
</center> 

<div class="p"><!----></div>
When importing a model from the BioModels database, the window below will open, initially only listing the BioModel numbers.  Selecting "Get Names" will fetch the model names from the database.  Beware that this can take a significant amount of time.  When you click on a model to select it, you can use the "Get Description" button to fetch a description of the model which will open in a browser.  Similarly, the "Get Reference" button will fetch the reference describing this model and again open it in a browser.

<div class="p"><!----></div>

<center><img src="screenshots/BioModels.png" alt="screenshots/BioModels.png" />
</center> 

<div class="p"><!----></div>
     <h3><a name="tth_sEc2.4">
2.4</a>&nbsp;&nbsp;Exporting Models and Graphs</h3>

<div class="p"><!----></div>
You can also export a model in either SBML or SBOL format.  To export an SBML model, select File &#8594; Export &#8594; Systems Biology Markup Language (SBML).  Then, you will be able to browse to find a location to export the SBML file.  Currently, the SBML model generated is a single flattened chemical reaction model.  When exporting model as an SBOL component, you must browse to find an SBOL library.  The SBOL component will then be added to the selected library.  Graphs of time series data or histograms can be exported from the project in many formats.  The supported file formats are:  

<ul>
<li> Time series data format (tsd), see Section&nbsp;<a href="#TSD">12</a>..
<div class="p"><!----></div>
</li>

<li> Comma separated value (csv).
<div class="p"><!----></div>
</li>

<li> Column separated data (dat).
<div class="p"><!----></div>
</li>

<li> Encapsulated postscript (eps).
<div class="p"><!----></div>
</li>

<li> Joint Photographic Experts Group (jpg).
<div class="p"><!----></div>
</li>

<li> Portable document format (pdf).
<div class="p"><!----></div>
</li>

<li> Portable network graphics (png).
<div class="p"><!----></div>
</li>

<li> Scalable vector graphics (svg).
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
     <h3><a name="tth_sEc2.5">
2.5</a>&nbsp;&nbsp;Editing Project Objects and Creating Tool Views</h3>

<div class="p"><!----></div>
All project objects can be modified by highlighting the object and using a right mouse click to open a menu of options, as shown below. Using this menu, every type of object can be copied, renamed, or deleted (these actions can also be done from the Edit menu).  For a model file, the "View/Edit" option opens the model editor (see Section&nbsp;<a href="#ModelEdit">3</a>).  For an LPN model, the "View/Edit" option opens the LPN model editor. 
For a TSD graph, the "View/Edit" option opens the TSD graph editor (see Section&nbsp;<a href="#TSDGraph">7</a>).  For a histogram, the "View/Edit" option opens the histogram graph editor 
(see Section&nbsp;<a href="#Histogram">8</a>).  

<div class="p"><!----></div>

<center><img src="screenshots/modGCM.png" alt="screenshots/modGCM.png" /> 
</center>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
To perform analysis or learning, right-click on a model and select "Create Analysis View" (see Section&nbsp;<a href="#Analysis">5</a>) to perform analysis or "Create Learn View" (see Section&nbsp;<a href="#Learn">6</a>) to perform learning. You will then be prompted to give a name to your analysis or learn view. After a name is entered, a tab with the newly created view will open.  Views can also be created using the Tools menu.  Once a view is created, it can be opened again later by right-clicking on an analysis directory and selecting "Open Analysis/Learn View" or, alternatively, double-clicking on the view.

<div class="p"><!----></div>

<div class="p"><!----></div>
 <h2><a name="tth_sEc3">
3</a>&nbsp;&nbsp;<a name="ModelEdit">
</a>Model Editor</h2>

<div class="p"><!----></div>
The model editor allows the user to create or modify a model of a genetic circuit or other biochemical system.  <tt>iBioSim</tt> models are based on SBML Level 3 Version 1 models with added features to support visualization, hierarchy, and modeling of genetic regulation.  SBML models can be imported and exported to allow interfacing with SBML-compliant tools.  When exporting an SBML model, the hierarchy and genetic regulation are flattened to create a single SBML model.  The model editor includes both a schematic editor as well as several textual editors.  For large models, the schematic portion can also be edited textually instead.  As shown below, when creating a new model, you can select whether the model should be on a grid or not.  Let us focus initially on models that are not on a grid.

<div class="p"><!----></div>

<center><img src="screenshots/ModelId.png" alt="screenshots/ModelId.png" />
</center>

<div class="p"><!----></div>
The schematic editor shown below allows one to add <em>chemical species</em> (see Section&nbsp;<a href="#Species">3.1</a>), 
<em>chemical reactions</em> (see Section&nbsp;<a href="#Reactions">3.2</a>), <em>components</em> (see Section&nbsp;<a href="#Components">3.3</a>),
and <em>promoters</em> (see Section&nbsp;<a href="#Promoters">3.4</a>) to a model depending on the icon selected in the toolbar.   Chemical species are the molecules such as proteins.  Chemical reactions change <em>reactant</em> species into <em>product</em> species.  Components are instances of other models within the project.  Finally, promoters are locations on a DNA sequence in which transcription is initiated.  
There are several types of relationships between species that can be specified.  A species may <em>activate</em> or <em>repress</em> the production of other species (see Section&nbsp;<a href="#Influences">3.5</a>).  One can also specify when there is no influence between two species or when a self-influence exists.  Species can also be related by complex-formation reactions  which indicate that multiple identical or different species can be combined to form a complex species.  A species can also be a reactant or product in a chemical reaction, indicating that the reaction consumes or produces the species, respectively (see Section&nbsp;<a href="#Reactions">3.2</a>).  Finally, a species can be a <em>modifier</em> to a chemical reaction, indicating that it affects the rate of the reaction but is neither produced nor consumed by the reaction (see Section&nbsp;<a href="#Reactions">3.2</a>).
The next item on the toolbar is a checkbox used to indicate if the model is to be considered enclosed within a <em>compartment</em>.  The combo box is used to select the enclosing compartment for the model.  The remaining items on the toolbar allow you to apply an automatic layout routine <img src="../gui/icons/modelview/choose_layout_selected.png" alt="../gui/icons/modelview/choose_layout_selected.png" />, zoom, restore to default size (Un-Zoom), pan, undo, and redo.
Finally, the additional tabs allow the user to add, edit, or remove compartments (membrane-enclosed objects where reactions take place, see Section&nbsp;<a href="#Compartments">3.6</a>), <em>parameters</em> (values used in model generation and within math equations, see Section&nbsp;<a href="#Parameters">3.7</a>), <em>definitions</em> (custom functions and units, see Section&nbsp;<a href="#Definitions">3.8</a>), <em>assignments</em> (mathematical equations that govern the values of variables in the model, see Section&nbsp;<a href="#Assignments">3.9</a>), <em>properties</em> (mathematical equations that describe either desired or undesired behaviors, see Section&nbsp;<a href="#Properties">3.10</a>), and <em>events</em> (objects that describe discrete state changes, see Section&nbsp;<a href="#Events">3.11</a>).

<div class="p"><!----></div>

<center><img src="screenshots/ModelEditor.png" alt="screenshots/ModelEditor.png" />
</center>

<div class="p"><!----></div>
<tt>iBioSim</tt> also supports the creation of models on a grid.  The idea of a grid is to provide a coarse-grain spatial representation.  A single model can be instantiated within each grid location.  The models can be for individual cells, allowing one to model population dynamics.  The models can also be different segments of a single cell, allowing one to model diffusion within a cell.  Key to grid-based modeling are diffusible species, described in Section&nbsp;<a href="#Species">3.1</a>.  When the models within grid locations are compartment-enclosed components, reactions are added to represent the movement of these diffusible species between the compartment and the area outside the compartment within the grid location (i.e., membrane diffusion).  When performing analysis, reactions are also automatically added to represent the movement of these diffusible species between the grid locations.  To use a grid, check the Make Grid option when creating the model.  A window will then open asking for the number of rows and columns in the grid.  It also asks which model to use to populate the grid.  You can select "none" if you wish to populate it later.

<div class="p"><!----></div>

<center><img src="screenshots/createGrid.png" alt="screenshots/createGrid.png" />
</center>

<div class="p"><!----></div>
The schematic for a model on a grid is a bit different than for an ordinary model, which is evident from the toolbar.  Namely, a grid-based model can only include components, with at most one component per grid location.  By pressing the Add Component icon <img src="../gui/icons/modelview/add_component_selected.png" alt="../gui/icons/modelview/add_component_selected.png" /> and clicking on an empty grid location, you are allowed to select a model to instantiate within that grid location.  You can also select Edit Grid Size to change the size of the grid.  If the grid is larger in one or more dimensions than before, you can select a model to populate the new grid locations.  A smaller grid size simply removes the component instantiations that fall outside the new grid.  You can also edit the grid by selecting individual grid locations by clicking on them.  When you then use the right mouse button, it brings up the menu shown below.  This menu allows you to delete the component that was right-clicked on or to open its model in a Model Editor.  You can also use this menu to select or de-select all grid locations, and you can either clear occupied, or populate non-occupied, selected grid locations.

<div class="p"><!----></div>

<center><img src="screenshots/gridModel.png" alt="screenshots/gridModel.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/editGridSize.png" alt="screenshots/editGridSize.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/gridRightButton.png" alt="screenshots/gridRightButton.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.1">
3.1</a>&nbsp;&nbsp;<a name="Species">
</a>Species</h3>

<div class="p"><!----></div>
Species are the molecules, such as proteins, that are produced by genes or chemical reactions.  To add a species to the model, select the Add Species icon <img src="../gui/icons/modelview/add_species_selected.png" alt="../gui/icons/modelview/add_species_selected.png" /> and click on the schematic canvas.  This will drop a new species with default ID and other values.  You may change these defaults by double-clicking on the species to open the Species Editor.  A species has the following elements:

<ul>
<li> ID: a unique ID composed of only alphanumeric characters and underscores.
<div class="p"><!----></div>
</li>

<li> Name: an arbitrary string description of the species (optional).
<div class="p"><!----></div>
</li>

<li> Type: used to indicate how this species can be connected in hierarchical models.  The <em>input</em> type is used to indicate a species that is produced outside this model, the <em>internal</em> type is used to indicate that a species is produced inside this model but cannot be used in other models, and the <em>output</em> type is used to indicate that a species is produced by this model and can be used in other models.
<div class="p"><!----></div>
</li>

<li> Diffusible: this checkbox indicates if this species can diffuse in multi-compartment and grid-based models.
<div class="p"><!----></div>
</li>

<li> Constitutive: this checkbox indicates that a default production reaction should be created for this species.
<div class="p"><!----></div>
</li>

<li> Compartment: location of the species (default=default).
<div class="p"><!----></div>
</li>

<li> Boundary Condition: Boolean indicating if the species amount/concentration cannot be changed by reactions (default=false).
<div class="p"><!----></div>
</li>

<li> Constant: Boolean indicating if the species amount/concentration is constant (default=false).
<div class="p"><!----></div>
</li>

<li> Has Only Substance Units: Boolean indicating if the species is to be considered an amount in mathematical equations (default=true).
<div class="p"><!----></div>
</li>

<li> Units: the units for the amount/concentration (default=none).
<div class="p"><!----></div>
</li>

<li> Conversion Factor: is a constant global parameter, the value of which is used to convert this species' units into the units used for extent (i.e., the units of change due to reactions).
<div class="p"><!----></div>
</li>

<li> Initial amount/concentration (ns): initial value of the amount or concentration of the species.  If the value is enclosed in brakets (i.e., [number]), it is a concentration, otherwise it is an amount.  The default is the value of the global parameter ns.
<div class="p"><!----></div>
</li>

<li> Degradation rate (kd): the degradation rate for this species.  The default is the value of the global parameter kd.  Note that a value of 0 will result in no degradation reaction being produced for this species.
<div class="p"><!----></div>
</li>

<li> Extracellular degradation rate (kecd): the rate at which this species degrades when it is outside a cell (i.e., on the grid level).  If a species is present in different models (i.e., has the same ID), be sure to keep these rates consistent.  The default is the global parameter kecd.
<div class="p"><!----></div>
</li>

<li> Complex formation equilibrium (Kc): the equilibrium constant for formation of this species when it is produced by a complex formation reaction.  The default is the global parameter Kc.  The equilibrium constant can be specified as a forward and reverse rate constant using the &#9001; forward rate &#9002;/ &#9001; reverse rate &#9002; form.
<div class="p"><!----></div>
</li>

<li> Membrane diffusion rate (fd/rv) (kmdiff): the forward (in to out) and reverse (out to in) rate constants (slash-separated) for diffusion of this species through its compartment's membrane.  Note that when membrane diffusion reactions are generated, the rates are taken from the inner species.  If no reverse rate is given, a default of 1.0 is used.  The default is the global parameter kmdiff.
<div class="p"><!----></div>
</li>

<li> Extracellular diffusion rate (kecdiff): the rate at which this species diffuses between grid locations in a grid-based model.  This rate is used for both the forward and reverse diffusion reactions.  If a species is present in different models (i.e., has the same ID), be sure to keep these rates consistent.  The default is the global parameter kecdiff.
<div class="p"><!----></div>
</li>

<li> SBOL Ribosome Binding Site: the DNA component for the ribosome binding site that is associated with this species.     Either a full path can be specified (i.e., &#9001; filename &#9002; / &#9001; collection &#9002; / &#9001; DNA component &#9002;) or clicking on the Associate SBOL button opens the SBOL browser described in Section&nbsp;<a href="#SBOL">4</a>.
<div class="p"><!----></div>
</li>

<li> SBOL Open Reading Frame: the DNA component for the open reading frame (gene) that is associated with this species.    Either a full path can be specified (i.e., &#9001; filename &#9002; / &#9001; collection &#9002; / &#9001; DNA component &#9002;) or clicking on the Associate SBOL button opens the SBOL browser described in Section&nbsp;<a href="#SBOL">4</a>.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<center><img src="screenshots/species.png" alt="screenshots/species.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.2">
3.2</a>&nbsp;&nbsp;<a name="Reactions">
</a>Reactions</h3>

<div class="p"><!----></div>
Reactions are used to create or destroy molecular species in a biochemical reaction network.  
To add a reaction, select the Add Reaction icon <img src="../gui/icons/modelview/add_reaction_selected.png" alt="../gui/icons/modelview/add_reaction_selected.png" /> and click on the schematic canvas which drops a new reaction with a default ID and parameter values.  

<div class="p"><!----></div>

<center><img src="screenshots/reaction.png" alt="screenshots/reaction.png" />
</center>

<div class="p"><!----></div>
Reactions convert reactant species into product species with perhaps modifier species (e.g., enzymes or catalysts) affecting the rate of this conversion.  The next step, therefore, is to indicate which species are reactants, products, and modifiers for the reaction.  This is accomplished by selecting the Reaction icon <img src="../gui/icons/modelview/reaction_selected.png" alt="../gui/icons/modelview/reaction_selected.png" /> or Modifier icon <img src="../gui/icons/modelview/modifier_selected.png" alt="../gui/icons/modelview/modifier_selected.png" />.  With the Reaction icon selected, selecting a species, holding the mouse button, and dragging the arc to a reaction makes the selected species a reactant in that reaction.  Similarly, selecting a reaction, holding the mouse button, and dragging the arc to a species makes the species a product in the selected reaction.  Finally, with the Modifier icon selected, dragging an arc between a species and reaction (in either direction) adds the species as a modifier in the reaction.  When you select a reactant edge, it opens a Reactants Editor.  This editor allows you to change the following things:

<ul>
<li> ID: this is the ID for this reactant and should not be confused with the Species ID.  This ID can be used in equations such as initial, rule, or event assignments.  Use this ID when you want the stoichiometry to be determined by an equation or used in an equation.  The ID is optional.
<div class="p"><!----></div>
</li>

<li> Name: an arbitrary string description of the species (optional).
<div class="p"><!----></div>
</li>

<li> Species: the ID of the reactant species.
<div class="p"><!----></div>
</li>

<li> Stoichiometry: the number of molecules consumed by the reaction.  Note that this value will be overridden when the reactant ID is used on the left-hand size of an assignment.
<div class="p"><!----></div>
</li>

<li> Constant: indicates whether the stoichiometry can change dynamically.
<div class="p"><!----></div>
</li>
</ul>
Similarly, the ID, Name, Species, Stoichiometry, and Constant fields can be edited for a Product edge as shown below.  Modifiers' edges do not have any of these fields, so they cannot be edited.

<div class="p"><!----></div>

<center><img src="screenshots/reactant.png" alt="screenshots/reactant.png" /> 
</center>

<div class="p"><!----></div>

<center><img src="screenshots/product.png" alt="screenshots/product.png" />
</center>

<div class="p"><!----></div>
When you select a reaction, it opens the Reaction Editor which allows you to edit the following reaction fields:

<ul>
<li> ID: a unique ID composed only of alphanumeric characters and underscores.
<div class="p"><!----></div>
</li>

<li> Name: an arbitrary string description (optional).
<div class="p"><!----></div>
</li>

<li> Compartment: the location where this reaction takes place.
<div class="p"><!----></div>
</li>

<li> Reversible: a Boolean indicating if the reaction is reversible (default=false).  Note that reversible reactions are indicated in the schematic with double headed arrows.
<div class="p"><!----></div>
</li>

<li> Fast: a Boolean indicating if the reaction reaches equilibrium rapidly (default=false).  Note that this only has limited support in analysis, so it should be used sparingly.
<div class="p"><!----></div>
</li>

<li> List of Local Parameters: symbolic values that can be used in the <em>kinetic law</em> for this reaction.  Their IDs only need to be unique to this reaction.  Local parameters can be added, removed, and edited using the appropriate buttons.  Each parameter is composed of an ID, Name (optional), Value, and Units (optional).  The list of parameters begins with a default forward reaction rate (kf) and reverse reaction rate (kr).  These names and their values should likely be edited.
<div class="p"><!----></div>
</li>

<li> Kinetic Law: a mathematical formula (see Section&nbsp;<a href="#SBMLMath">10</a>) describing the rate or probability for this reaction.  The kinetic law can either be automatically generated using the Use Mass Action button or manually entered.  The Use Mass Action button creates a rate law using the law of mass action assuming that the first parameter in the list is the forward reaction rate and the second parameter in the list is the reverse reaction rate.  
The Clear button clears the kinetic law editor.  Note that the kinetic law formula can only include species IDs that are reactants, products, or modifiers to this reaction.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<center><img src="screenshots/localParam.png" alt="screenshots/localParam.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/kineticLaw.png" alt="screenshots/kineticLaw.png" /> 
</center>

<div class="p"><!----></div>
To simplify a schematic, one can use implicit reactions in some limited situations.  To create an implicit reaction, with the Reaction icon highlighted and the mouse button selected, drag a reaction edge between two species.  This action creates a reaction with a default ID and parameters including the source species as a reactant and sink species as a product.  If you connect an additional reaction edge to either species, you are asked if you wish to create a new reaction or add this new relationship to an existing reaction on the source and/or sink species.  Implicit reactions can only be used when the following conditions hold:

<ul>
<li> The stoichiometry of all reactants and products for the reaction is 1.
<div class="p"><!----></div>
</li>

<li> The reaction has either a single reactant OR a single product.
<div class="p"><!----></div>
</li>

<li> The reaction has no modifier species.
<div class="p"><!----></div>
</li>
</ul>
The first condition is a default and cannot be changed.  Adding edges can, however, cause a violation of the second or third condition.  If this violation occurs, an explicit reaction is created to replace the implicit reaction.

<div class="p"><!----></div>

<center><img src="screenshots/implicitReactions.png" alt="screenshots/implicitReactions.png" /> 
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.3">
3.3</a>&nbsp;&nbsp;<a name="Components">
</a>Components</h3>

<div class="p"><!----></div>
Components are instances of other models within the project, and they are used to create hierarchical, multi-compartment, and cellular population models.  To add a component, select the Add Component icon <img src="../gui/icons/modelview/add_component_selected.png" alt="../gui/icons/modelview/add_component_selected.png" /> and click on the schematic canvas.  You are then prompted to select the model for the component that you wish to add.  This window also allows you to add multiple instances of the component at one time.  To do this, select Tile Component and specify how many Columns, Rows, the Padding between them that you want, and whether to start the tiling in the top left corner of the schematic or at the mouse location.  

<div class="p"><!----></div>

<center><img src="screenshots/addComponent.png" alt="screenshots/addComponent.png" />
</center>

<div class="p"><!----></div>
When a component is added, it appears in the schematic either with sharp or rounded corners.  A component with sharp corners is not enclosed within a compartment, so it may have ports to which species may be connected.  In other words, this is likely part of a hierarchical model.  On the other hand, rounded corners indicate that it is enclosed within a compartment, so it cannot have any ports.  In this case, this component is likely to be part of either a multi-compartment or cellular population model, and diffusible species can move between the compartments.  Clicking on the component opens the Component Editor which allows you to change the instance name for the component as well as see a list of the components ports.

<div class="p"><!----></div>

<center><img src="screenshots/editComp.png" alt="screenshots/editComp.png" />
</center>

<div class="p"><!----></div>

<div class="p"><!----></div>
When a component has ports, connections to input ports can be made by selecting a species and while holding the mouse button drag an arc to the component.  If there are multiple input ports, you are asked which input port to connect this species to.  To connect to output ports, begin by selecting the component and drag an arc to the species to be connected to the output port.  Note that when you make these connections you are specifying the species in the top-level model is the same species in the component that it is connected too.  

<div class="p"><!----></div>

<center><img src="screenshots/addPort.png" alt="screenshots/addPort.png" />
</center>

<div class="p"><!----></div>
When adding a component to a grid, you are simply asked which model to instantiate, and you cannot connect to ports as species are not allowed on a grid.

<div class="p"><!----></div>

<center><img src="screenshots/addCompGrid.png" alt="screenshots/addCompGrid.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.4">
3.4</a>&nbsp;&nbsp;<a name="Promoters">
</a>Promoters</h3>

<div class="p"><!----></div>
Promoters are the locations on a DNA sequence in which transcription is initiated to create a <em>messager</em> RNA (mRNA) which can then be translated by a ribosome into a protein.  To add a promoter to a model, select the Add Promoter icon <img src="../gui/icons/modelview/promoter_mode_selected.png" alt="../gui/icons/modelview/promoter_mode_selected.png" /> and click on the schematic canvas creating a new promoter with a default ID and parameter values.  Clicking on the promoter opens the Promoter Editor and allows you to edit the following fields:

<ul>
<li> ID: a unique ID composed only of alphanumeric characters and underscores.
<div class="p"><!----></div>
</li>

<li> Name: an arbitrary string description (optional).
<div class="p"><!----></div>
</li>

<li> Initial promoter count (ng): the number of copies of this promoter.  The default is the value of the global parameter ng.
<div class="p"><!----></div>
</li>

<li> RNAP binding equilibrium (Ko): the equilibrium constant to use for the binding of RNAP to this promoter.  The default value is the global parameter Ko.  Note that this can either be specified as a single equilibrium constant or as a forward rate "/" reverse rate.
<div class="p"><!----></div>
</li>

<li> Open complex production rate (ko): once RNAP binds to this promoter, this is the rate at which transcription is initiated.  Note that this production rate is only used for promoters with no activators.  The default value is the global parameter ko.
<div class="p"><!----></div>
</li>

<li> Stoichiometry of production (np): the average number of proteins that are produced by an mRNA before it degrades.  The default value is the global parameter np.
<div class="p"><!----></div>
</li>

<li> Basal production rate (kb): once RNAP binds to an activated promoter, this is the rate at which transcription is initiated without the activator also being bound.  The default value is the global parameter kb.
<div class="p"><!----></div>
</li>

<li> Activated production rate (ka): once RNAP binds to an activated promoter, this is the rate at which transcription is initiated when the activator is also bound to the promoter.  The default value is the global value ka.
<div class="p"><!----></div>
</li>

<li> SBOL Promoter: the DNA component that is associated with this promoter.     Either a full path can be specified (i.e., &#9001; filename &#9002; / &#9001; collection &#9002; / &#9001; DNA component &#9002;) or clicking on the Associate SBOL button opens the SBOL browser described in Section&nbsp;<a href="#SBOL">4</a>.
<div class="p"><!----></div>
</li>

<li> SBOL Terminator: the DNA component that is associated with the terminator for the transcription initiated by this promoter.     Either a full path can be specified (i.e., &#9001; filename &#9002; / &#9001; collection &#9002; / &#9001; DNA component &#9002;) or clicking on the Associate SBOL button opens the SBOL browser described in Section&nbsp;<a href="#SBOL">4</a>.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<center><img src="screenshots/promoter.png" alt="screenshots/promoter.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.5">
3.5</a>&nbsp;&nbsp;<a name="Influences">
</a>Influences</h3>

<div class="p"><!----></div>
There are several types of influences between species that can be specified.  A species may <em>activate</em> or <em>repress</em> the production of other species.  This relationship is made from a species to the promoter that it activates or represses.  It can also be made directly between two species with an implicit promoter annotating the edge.  One can also specify when there is no influence between two species.  An activating or repressing self-influence can also be specified.  Species can also be related by complex formation reactions which indicate that multiple identical or different species can be combined to form a complex species.  

<div class="p"><!----></div>
To add a complex formation reaction, select the complex formation icon <img src="../gui/icons/modelview/bio_activation_selected.png" alt="../gui/icons/modelview/bio_activation_selected.png" />, highlight a species that is part of a complex, and while holding the mouse button stretch the complex formation arc to the complex species.   If you double click on the complex formation arc, an influence editor will open which indicates that this is a complex formation arc and the stoichiometry of binding (i.e., the number of molecules of the source species used to construct the sink species) is 2 which you can customize, if desired.

<div class="p"><!----></div>

<center><img src="screenshots/complex.png" alt="screenshots/complex.png" /> 
</center>

<div class="p"><!----></div>
To create a repression influence, select the Repression icon 
<img src="../gui/icons/modelview/inhibition_selected.png" alt="../gui/icons/modelview/inhibition_selected.png" />, highlight the species that is acting as a repressor, and while holding the mouse button stretch the repression arc to either the promoter or another species.  In the later, case, an implicit promoter is added.  Double clicking on the repression arc brings up an influence editor.  In this editor, you can customize the stoichiometry of binding as well as the repression binding equilibrium.

<div class="p"><!----></div>

<center><img src="screenshots/repression.png" alt="screenshots/repression.png" /> 
</center>

<div class="p"><!----></div>
To create an activation influence, select the Activation icon 
<img src="../gui/icons/modelview/activation_selected.png" alt="../gui/icons/modelview/activation_selected.png" />, highlight the species that is acting as an activator, and while holding the mouse button stretch the activation arc to either the promoter or another species.  In the later, case, an implicit promoter is added.  Double clicking on the activation arc brings up an influence editor.  In this editor, you can customize the stoichiometry of binding as well as the activation binding equilibrium.

<div class="p"><!----></div>

<center><img src="screenshots/activation.png" alt="screenshots/activation.png" />
</center>

<div class="p"><!----></div>
To indicate that a species has no influence on another species, select the No Influence icon 
<img src="../gui/icons/modelview/no_influence.png" alt="../gui/icons/modelview/no_influence.png" />, highlight the species that has no influence, and while holding the mouse button stretch the no influence arc to the species it has no influence upon.  Double clicking on the no influence arc brings up an influence editor.  In this editor, you can change its type to indicate that it actually has an influence, if you like, and the edit accordingly.  No influence arcs are used by the Learn Tool to avoid adding influences where you are certain there is none.

<div class="p"><!----></div>

<center><img src="screenshots/noInfluence.png" alt="screenshots/noInfluence.png" />
</center>

<div class="p"><!----></div>
The last type of influence is a self-influence.  A self-influence can be either activation or repression.  To create a self-influence, select the Self-influence icon <img src="../gui/icons/modelview/self_influence_selected.png" alt="../gui/icons/modelview/self_influence_selected.png" />, select the appropriate Activation or Repression icon, and click on the species that influences itself.  If you click on a self-influence, you will be able to edit its promoter, its type of influence, its stoichiometry of binding, as well as the appropriate binding equilibrium. 

<div class="p"><!----></div>

<center><img src="screenshots/selfInfluence.png" alt="screenshots/selfInfluence.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.6">
3.6</a>&nbsp;&nbsp;<a name="Compartments">
</a>Compartments</h3>

<div class="p"><!----></div>
Compartments are used to specify membrane enclosed regions where species are found. Every model must include at least one compartment. A new model includes a compartment named <tt>default</tt>.  While its ID and other parameters can be changed, it cannot be removed unless a new compartment is added.  A compartment to which species or reactions have been assigned also cannot be removed.  
As shown below, a compartment has the following fields:

<ul>
<li> ID: a unique ID composed of only alphanumeric characters and underscores.
<div class="p"><!----></div>
</li>

<li> Name: an arbitrary string description (optional).
<div class="p"><!----></div>
</li>

<li> Dimensions: number of spatial dimensions (default=3).
<div class="p"><!----></div>
</li>

<li> Constant: Boolean indicating if the size is constant (default=true).
<div class="p"><!----></div>
</li>

<li> Size: initial size of the compartment (default=1.0).
<div class="p"><!----></div>
</li>

<li> Units: the units for the size (default=none).
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<center><img src="screenshots/compartment.png" alt="screenshots/compartment.png" />
</center>

<div class="p"><!----></div>
In addition to the list of compartments, this tab also includes the Model ID (which cannot be changed), the Model Name (an arbitrary string description of this model), and the Model Units.  Clicking on the Model Units button allows you to see and edit this model's default units.  The substance units is the default units for species, the time units is the default units for time, the volume units are the default units for 3-dimensional compartments, the area units are the default units for 2-dimensional compartments, the length units are the default units for 1-dimensional compartments, the extent units are the defaults units for what the amount changed due to a reaction.  Kinetic laws have a default units of extent units / time units.  The conversion factor is the constant global parameter to be used as the default conversion factor to convert species units into extent units.

<div class="p"><!----></div>

<center><img src="screenshots/ModelUnits.png" alt="screenshots/ModelUnits.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.7">
3.7</a>&nbsp;&nbsp;<a name="Parameters">
</a>Parameters</h3>

<div class="p"><!----></div>
There are two types of parameters: model generation parameters and global parameters.  The model generation parameters provide default parameter values when converting a model into a reaction-based model for analysis. 
In the Species, Promoter, and Influence Editors, any parameter set to default uses the value found in this list.  These defaults can be modified in the user preferences (see Section&nbsp;<a href="#Preferences">9</a>).  The user can also edit these parameters for an individual model by changing the default to custom, then changing the value.

<div class="p"><!----></div>

<center><img src="screenshots/GCMparam.png" alt="screenshots/GCMparam.png" />
</center>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
Global Parameters are variables that can be used in math formulas (see Section&nbsp;<a href="#SBMLMath">10</a>).  A parameter includes the following:

<ul>
<li> ID: a unique ID composed only of alphanumeric characters and underscores.
<div class="p"><!----></div>
</li>

<li> Name: an arbitrary string description (optional).
<div class="p"><!----></div>
</li>

<li> Value: initial value for the parameter.
<div class="p"><!----></div>
</li>

<li> Units: the units for the parameter value (default=none).
<div class="p"><!----></div>
</li>

<li> Constant: Boolean indicating if the parameter value is constant (default=true).
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<center><img src="screenshots/parameter.png" alt="screenshots/parameter.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.8">
3.8</a>&nbsp;&nbsp;<a name="Definitions">
</a>Definitions</h3>

<div class="p"><!----></div>
The Definitions tab allows users to provide function and unit definitions. Function definitions are used to create user defined functions that can then be used in math formulas (see Section&nbsp;<a href="#SBMLMath">10</a>).  As shown below, function definitions include an ID, an optional name field, a comma-separated list of arguments, and its definition.  The definition is a math formula though it is restricted to only use variable names which are arguments to the function.  While functions can call other functions, they cannot be recursive (i.e., call themselves) either directly or indirectly (i.e., through a cycle of function calls).  Several random functions supported by <tt>iBioSim</tt>'s simulators are added automatically to every model.

<div class="p"><!----></div>

<center><img src="screenshots/function.png" alt="screenshots/function.png" />
</center>

<div class="p"><!----></div>
Unit definitions are used to construct user-defined units which are derived from the set of base units.  As shown below, a unit definition includes an ID, an optional name, and a list of units that define it.  There are buttons to add, remove, and edit elements in the list of units.  Each unit is composed of a kind, exponent, scale, and multiplier.  The kind is selected from the list of base units in the table below.  The exponent and multiplier are real numbers, and the scale is an integer that specifies the relationship between the derived unit and the base unit using the relation below:

<br clear="all" /><table border="0" width="100%"><tr><td>
<table border="0" cellspacing="0" cellpadding="0">
 <tr><td width="50%"></td><td nowrap="nowrap" align="right" colspan="1"><table border="0" cellspacing="0" cellpadding="2"><tr><td nowrap="nowrap" align="left">
<span class="roman">unit</span> </td></tr></table></td><td nowrap="nowrap" align="left">
<table border="0" cellspacing="0" cellpadding="2"><tr><td nowrap="nowrap" align="left">
 = </td></tr></table></td><td nowrap="nowrap" align="left">
<table><tr><td nowrap="nowrap" align="right" colspan="1">(<span class="roman">multiplier</span> * 10<sup><span class="roman">scale</span></sup> * <span class="roman">baseUnit</span>)<sup><span class="roman">exponent</span></sup></td></tr></table></td><td width="50%"></td></tr></table>
</td></tr></table>



<div class="p"><!----></div>

<center><img src="screenshots/units.png" alt="screenshots/units.png" />
</center>

<div class="p"><!----></div>

<center>
<table border="1">
<tr><td align="center">ampere        </td><td align="center">farad  </td><td align="center">joule    </td><td align="center">lux  </td><td align="center">radian    </td><td align="center">volt </td></tr>
<tr><td align="center">avogadro     </td><td align="center">gram  </td><td align="center">katal   </td><td align="center">metre   </td><td align="center">second   </td><td align="center">watt </td></tr>
<tr><td align="center">bacquerel       </td><td align="center">gray </td><td align="center">kelvin </td><td align="center">mole </td><td align="center">siemens   </td><td align="center">weber </td></tr>
<tr><td align="center">candela       </td><td align="center">henry </td><td align="center">kilogram    </td><td align="center">newton    </td><td align="center">sievert </td><td align="center">&nbsp;</td></tr>
<tr><td align="center">coulomb </td><td align="center">hertz  </td><td align="center">litre    </td><td align="center">ohm </td><td align="center">steradian     </td><td align="center">&nbsp;</td></tr>
<tr><td align="center">dimensionless         </td><td align="center">item </td><td align="center">lumen      </td><td align="center">pascal </td><td align="center">tesla      </td><td align="center">&nbsp;</td></tr></table>

</center>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.9">
3.9</a>&nbsp;&nbsp;<a name="Assignments">
</a>Assignments</h3>

<div class="p"><!----></div>
There are two types of assignments: initial assignments and rules.  Initial assignments as shown below are used to provide a mathematical formula (see Section&nbsp;<a href="#SBMLMath">10</a>) that is evaluated at time 0 to determine the initial value of a compartment size, species amount or concentration, or parameter.  The value of this formula takes precedence over the initial value specified in the object.  

<div class="p"><!----></div>
There are three types of rules: algebraic, assignment, and rate rules:

<center>

<table border="1">
<tr><td align="center">Algebraic  </td><td align="center">left-hand side is zero             </td><td align="center">0 = f(W) </td></tr>
<tr><td align="center">Assignment </td><td align="center">left-hand side is a scalar         </td><td align="center">x = f(W) </td></tr>
<tr><td align="center">Rate       </td><td align="center">left-hand side is a rate-of-change </td><td align="center">[dx/dt] = f(W) 
</td></tr></table>

</center>

<div class="p"><!----></div>

<center><img src="screenshots/initial.png" alt="screenshots/initial.png" />
</center>

<div class="p"><!----></div>
Algebraic rules specify relationships which must be maintained.  Assignment rules specify the value of a compartment size, species amount or concentration, or parameter in terms of a mathematical formula (see
Section&nbsp;<a href="#SBMLMath">10</a>).  A variable cannot be determined by both an assignment rule and initial assignment.  Rate rules specify the rate of change of a compartment size, species amount or concentration, or parameter in terms of a mathematical formula (see Section&nbsp;<a href="#SBMLMath">10</a>).  A variable cannot be determined by both an assignment rule and a rate rule.  A species that is a reactant or a product of any reaction cannot be updated by either an assignment rule or rate rule.  
When adding a rule, the user first selects the type of rule as shown below.  This automatically restricts the set of variables available for the left-hand side to those that are valid.  The user should then select a variable (except in the case of an algebraic rule), and enter a mathematical formula (see Section&nbsp;<a href="#SBMLMath">10</a>) for the rule.  When editing a rule, the user cannot modify the rule type. 

<div class="p"><!----></div>

<center><img src="screenshots/rule.png" alt="screenshots/rule.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.10">
3.10</a>&nbsp;&nbsp;<a name="Properties">
</a>Properties</h3>

<div class="p"><!----></div>
The properties tab allows users to provide formula for either desired or un-desired behavior.  These formula can be provided in two forms as either a <em>Continuous Stochastic Logic</em> (CSL) property (see Section&nbsp;<a href="#CSL">11</a>) or as a constraint.  CSL is a temporal logic which allows one to specify probabilistic temporal logic properties.  Analysis of a CSL property should return the probability that the property is true.  These properties can either be transient properties to ask if something happens within a certain amount of time, or steady-state properties to ask the probability of a given state as time goes to infinity.  The syntax for our CSL properties is given in Section&nbsp;<a href="#CSL">11</a>.

<div class="p"><!----></div>

<center><img src="screenshots/properties.png" alt="screenshots/properties.png" />
</center>

<div class="p"><!----></div>
Constraints are used to specify properties that should cause simulation to terminate.  As shown below, each constraint is composed of an ID which is used to identify it in graphs, a constraint given as a mathematical formula (see Section&nbsp;<a href="#SBMLMath">10</a>), and a message describing the constraint.  A default id is automatically generated when a new constraint is created.

<div class="p"><!----></div>

<center><img src="screenshots/constraint.png" alt="screenshots/constraint.png" />
</center>

<div class="p"><!----></div>
Our analysis methods can provide histograms that show the proportion of simulations that either satisfy a CSL property or are terminated due to a constraint.  Analysis can also show time series plots showing the proportion of simulations at each time point that have either satisfied a CSL property or terminated due to a constraint. 

<div class="p"><!----></div>
     <h3><a name="tth_sEc3.11">
3.11</a>&nbsp;&nbsp;<a name="Events">
</a>Events</h3>

<div class="p"><!----></div>
Events are used to specify discrete changes of compartment sizes, species amounts or concentrations, and parameter values.  Each event is composed of the following items:

<ul>
<li> ID: a unique ID composed only of alphanumeric characters and underscores.
<div class="p"><!----></div>
</li>

<li> Name: an arbitrary string description (optional).
<div class="p"><!----></div>
</li>

<li> Trigger: a mathematical formula which when it changes evaluation from false to true indicates that the event is triggered.
<div class="p"><!----></div>
</li>

<li> Delay: a mathematical formula which is evaluated when an event is triggered, and the result is the amount of time before the event is to be executed.
<div class="p"><!----></div>
</li>

<li> Priority: a mathematical formula which sets the priority for this event when multiple events are scheduled to be executed simultaneously.  In this situation, the event with the highest priority is the next to be executed.
<div class="p"><!----></div>
</li>

<li> Use values at trigger time: this Boolean indicates if values for the event assignments should be calculated at trigger time or execution time (default=false).
<div class="p"><!----></div>
</li>

<li> Trigger is persistent: this Boolean indicates the behavior when a trigger expression becomes false before an event is executed.  If it is persistent, then it still executes when ready.  If it is not persistent, then the event is disabled and no longer scheduled to execute (default=false).
<div class="p"><!----></div>
</li>

<li> Trigger is initially true: this Boolean indicates the behavior when a trigger evaluates to true at time 0.  If it is initially true, there is no change in evaluation, so the event is not triggered.  If it is not initially true, there is now a change in evaluation, so the event is triggered.
<div class="p"><!----></div>
</li>

<li> List of Event Assignments: these indicate how the state is supposed to change when the event executes.  The add, remove, and edit assignment buttons to update them.  In the event assignment editor, the variable to change must be selected and the assignment to be performed must be specified as a mathematical formula.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<center><img src="screenshots/event.png" alt="screenshots/event.png" />
</center>

<div class="p"><!----></div>
 <h2><a name="tth_sEc4">
4</a>&nbsp;&nbsp;<a name="SBOL">
</a>SBOL Browser</h2>

<div class="p"><!----></div>
SBOL is an emerging standard under development for the exchange of information about synthetic biology designs.  An SBOL file includes <em>Collections</em> of <em>DNA Components</em>.  Each DNA component has a unique ID, name, description, type, and a DNA sequence.  A DNA component can be a simple sequence feature like a promoter, ribosome binding site, open reading frame (i.e., gene), or terminator.  It can also be an annotated DNA sequence that includes a several of these individual features perhaps organized hierarchically.  For example, a DNA component may include a promoter followed by a ribosome binding site followed by a open reading frame followed by a terminator.  <tt>iBioSim</tt> includes an SBOL browser that allows the user to view an individual SBOL file by clicking on it in the list of project files.  In this browser, you can highlight individual DNA components and see the information stored about them.

<div class="p"><!----></div>

<center><img src="screenshots/SBOLBrowser.png" alt="screenshots/SBOLBrowser.png" />
</center>

<div class="p"><!----></div>
A similar SBOL browser is available for associating DNA components to a model.  Namely, for a promoter, you can associate both a DNA component to the promoter as well as a terminator for the transcription initiated at this promoter.  For a species, you can associate both a DNA component for the open reading frame for the gene that produces this species as well as the ribosome binding site where translation begins for this gene.  This SBOL browser is opened by clicking on an Associate SBOL button within either the Species Editor (see Section&nbsp;<a href="#Species">3.1</a>) or Promoter Editor (see Section&nbsp;<a href="#Promoters">3.4</a>).  This browser only shows DNA components of the appropriate type.  For example, when associating a species to its open reading frame, only DNA components of the type open reading frame are shown.

<div class="p"><!----></div>

<center><img src="screenshots/AssociateSBOL.png" alt="screenshots/AssociateSBOL.png" />
</center>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
 <h2><a name="tth_sEc5">
5</a>&nbsp;&nbsp;<a name="Analysis">
</a>Analysis Tool</h2>

<div class="p"><!----></div>
The analysis tool is used to analyze biochemical reaction network models.  <tt>iBioSim</tt> comes with a number of simulation methods, ranging from continuous-deterministic (ODE) simulation methods to discrete-stochastic (Monte Carlo) simulation methods.  In order to perform efficient temporal behavior analysis, various model abstractions can also be automatically applied.  Many of the analysis and abstraction routines are implemented
within the reb2sac tool described in 
<A HREF="http://www.async.ece.utah.edu/publications">
Kuwahara's PhD Dissertation (UofUtah 2007)
</A>
.  An analysis view includes several tabs.  The Simulation Options tab described in Section&nbsp;<a href="#simOptions">5.1</a> selects the different simulation methods and parameters.  The Abstraction Options tab described in Section&nbsp;<a href="#absOptions">5.2</a> configures model abstraction.  The Schematic tab described in Section&nbsp;<a href="#AnalysisSchematic">5.3</a> allows the user to modify or sweep various parameters on the schematic.  It also provides an alternative way of visualizing simulation data upon the schematic.  The Parameters tab allows the user to modify or sweep model generation and global parameters, and it is described in Section&nbsp;<a href="#AnalysisParameters">5.4</a>.  The SBML elements tab described in Section&nbsp;<a href="#SBMLElements">5.5</a> allows the user to add or remove parts of the model during analysis.  The TSD Graph tab is a graph editor for some series data, and it is described in Section&nbsp;<a href="#TSDGraph">7</a>.  Finally, the Histogram tab is a graph editor for probability data, and it is described in Section&nbsp;<a href="#Histogram">8</a>.

<div class="p"><!----></div>

<center><img src="screenshots/analysisView.png" alt="screenshots/analysisView.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc5.1">
5.1</a>&nbsp;&nbsp;<a name="simOptions">
</a>Simulation Options</h3>

<div class="p"><!----></div>
The first set of radio buttons in this tab specifies the type of abstraction. 

<ul>
<li> None: use no abstraction.
<div class="p"><!----></div>
</li>

<li> Abstraction: perform reaction-based abstraction.
<div class="p"><!----></div>
</li>

<li> Logical Abstraction: perform both reaction-based and logical abstractions.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
The second set of radio buttons specify the type of analysis.  

<ul>
<li> ODE: continuous-deterministic simulation.
<div class="p"><!----></div>
</li>

<li> Monte Carlo: discrete-stochastic simulation.
<div class="p"><!----></div>
</li>

<li> Markov performs temporal probability distribution analysis on finite-state Markov chain models (this requires logical abstraction).
<div class="p"><!----></div>
</li>

<li> Model: produces a flattened model and puts it in the list of project files.
<div class="p"><!----></div>
</li>

<li> Network: outputs the model in the GraphViz format for display by dotty.
<div class="p"><!----></div>
</li>

<li> Browser outputs the model in xhtml format for display in a web browser.
<div class="p"><!----></div>
</li>

<li> LPN: produces an LPN model and puts it in the list of project files (this requires logical abstraction).
<div class="p"><!----></div>
</li>
</ul>
Some results selecting Model, Network, and Browser are shown below.

<div class="p"><!----></div>

<center><img src="screenshots/reactionModel.png" alt="screenshots/reactionModel.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/viewNetwork.png" alt="screenshots/viewNetwork.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/viewBrowser.png" alt="screenshots/viewBrowser.png" />
</center>

<div class="p"><!----></div>
The next group of options are for simulation based analysis only.

<ul>
<li> Report concentrations: if checked, report concentrations rather than amounts (default=amounts).
<div class="p"><!----></div>
</li>

<li> Do Not Generate Runs: if checked, simulation data is not produced though summary probabilistic data is still produced (default=Generate Runs).
<div class="p"><!----></div>
</li>

<li> Append Simulation Runs: if checked, additional simulation runs are added to the existing set of simulation runs rather than first removing the previous runs (default=overwrite).  Note that the seed changes automatically when this gets checked because otherwise the additional runs will likely be the same as the previous set.
<div class="p"><!----></div>
</li>
</ul> 

<div class="p"><!----></div>
The next field specifies the simulation method you want to use based on the simulation type you specified. The methods available are:

<center>

<table border="1">
<tr><td align="center">Type </td><td align="center">Method ID </td><td align="left">Description </td></tr><tr><td></td></tr>
<tr><td align="center">ODE  </td><td align="center">Euler     </td><td align="left">The forward Euler Method </td></tr>
<tr><td align="center">ODE  </td><td align="center">gear1     </td><td align="left">Gear Method M=1 </td></tr>
<tr><td align="center">ODE  </td><td align="center">gear2     </td><td align="left">Gear Method M=2 </td></tr>
<tr><td align="center">ODE  </td><td align="center">rk4imp    </td><td align="left">Implicit 4th order Runge-Kutta at Gaussian points </td></tr>
<tr><td align="center">ODE  </td><td align="center">rk8pd     </td><td align="left">Embedded Runge-Kutta Prince-Dormand (8,9) method </td></tr>
<tr><td align="center">ODE  </td><td align="center">rkf45     </td><td align="left">Embedded Runge-Kutta-Fehlberg (4, 5) method </td></tr>
<tr><td align="center">Monte carlo </td><td align="center">Gillespie </td><td align="left">Gillespie's SSA direct method </td></tr>
<tr><td align="center">Monte carlo </td><td align="center">GillespieJava </td><td align="left">Java implementation of Gillespie's SSA direct method </td></tr>
<tr><td align="center">Monte carlo </td><td align="center">mpde </td><td align="left">iSSA using marginal probability density evolution </td></tr>
<tr><td align="center">Monte carlo </td><td align="center">mp </td><td align="left">iSSA using the mean path </td></tr>
<tr><td align="center">Monte carlo </td><td align="center">mp-adaptive </td><td align="left">iSSA using the mean path and adaptive step size</td></tr>
<tr><td align="center">Monte carlo </td><td align="center">mp-event </td><td align="left">iSSA using the mean path and event count step size </td></tr>
<tr><td align="center">Monte carlo </td><td align="center">emc-sim   </td><td align="left">Use jump count as next reaction time </td></tr>
<tr><td align="center">Monte carlo </td><td align="center">bunker    </td><td align="left">Uses mean for next reaction time </td></tr>
<tr><td align="center">Monte carlo </td><td align="center">nmc       </td><td align="left">Uses normally distributed next reaction time </td></tr>
<tr><td align="center">Markov </td><td align="center">steady-state </td><td align="left">Steady-state Markov chain analysis </td></tr>
<tr><td align="center">Markov </td><td align="center">transient </td><td align="left">Transient Markov chain analysis </td></tr>
<tr><td align="center">Markov </td><td align="center">reachability </td><td align="left">Only perform reachability analysis </td></tr>
<tr><td align="center">Markov </td><td align="center">atacs </td><td align="left">Use <tt>atacs</tt> steady-state Markov analysis engine </td></tr>
<tr><td align="center">Markov </td><td align="center">ctmc-transient </td><td align="left">Transient distribution analysis </td></tr></table>

</center>

<div class="p"><!----></div>
There are some properties that need to be set for simulation.
The table below specifies these:

<div class="p"><!----></div>

<center>
<table border="1">
<tr><td align="left">Field             </td><td align="left">Description </td></tr><tr><td></td></tr>
<tr><td align="left">Time Limit        </td><td align="left">The simulation time limit </td></tr>
<tr><td align="left">Choose one:    </td><td align="left"></td></tr>
<tr><td align="left">&nbsp;&nbsp;&nbsp;Print Interval    </td><td align="left">The print time interval for each simulation run </td></tr>
<tr><td align="left">&nbsp;&nbsp;&nbsp;Minimum Print Interval    </td><td align="left">Print on change but no more often than this interval </td></tr>
<tr><td align="left">&nbsp;&nbsp;&nbsp;Number of Steps    </td><td align="left">Number of steps to print </td></tr>
<tr><td align="left">Minimum Time Step </td><td align="left">The smallest time step allowed </td></tr>
<tr><td align="left">Maximum Time Step </td><td align="left">The largest time step allowed </td></tr>
<tr><td align="left">&nbsp;           </td><td align="left">(also the time step used for the Euler method) </td></tr>
<tr><td align="left">Absolute Error    </td><td align="left">Used by the adaptive time step ODE methods </td></tr>
<tr><td align="left">Random Seed       </td><td align="left">An integer number as a seed to generate random numbers </td></tr>
<tr><td align="left">Runs              </td><td align="left">The number of random simulation runs to perform </td></tr>
<tr><td align="left">Simulation ID     </td><td align="left">Creates a simulation directory with the ID name </td></tr></table>

</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc5.2">
5.2</a>&nbsp;&nbsp;<a name="absOptions">
</a>Abstraction Options</h3>

<div class="p"><!----></div>
Abstraction is performed in three steps.  There is a preprocess step which is a sequence of abstractions performed once on the initial model.  The main loop iterates through a group of abstractions until there is no change in the model.  Finally, there is a postprocess step which is a sequence of abstractions performed once at the end.  Clicking on the Add button brings up a list of all the possible abstraction methods.  The selected abstraction method is added after the highlighted abstraction method in the list.  If not method is highlighted, it makes it the first abstraction in the list.

<div class="p"><!----></div>

<center><img src="screenshots/absOptions.png" alt="screenshots/absOptions.png" />
</center>

<div class="p"><!----></div>
<tt>iBioSim</tt> supports many different types of abstraction.  However, there are a few critical ones that we list here:

<ul>
<li> complex-formation-and-sequestering-abstraction: this attempts to remove complex formation reactions.  It replaces the complex species in rate laws with a function of its constituent species.
<div class="p"><!----></div>
</li>

<li> operator-site-reduction-abstraction: this removes reactions and corresponding species involved in the binding of transcription factors to operator sites.
<div class="p"><!----></div>
</li>

<li> distribute-transformer: applies the distributive law to kinetic law formula to make them easier to identify the forward and reverse rates within a reversible reaction.
<div class="p"><!----></div>
</li>

<li> reversible-to-irreversible-transformer: this converts a reversible reaction into two irreversible reaction.  This is critical for the Monte Carlo simulation methods that require there to be no reversible reactions.
<div class="p"><!----></div>
</li>

<li> kinetic-law-constants-simplifier: this replaces constant parameters within kinetic laws with their values to improve their evaluation time.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
This tab also includes a few parameters for the abstraction methods.

<ul>
<li> Rapid Equilibrium Condition 1 specifies threshold T1 such that the rapid equilibrium condition fails when T1  &gt;  E0 / (S0 + k&#8722;1/k1).
<div class="p"><!----></div>
</li>

<li> Rapid Equilibrium Condition 2 specifies threshold T2 such that the rapid equilibrium condition fails when T1  &gt;  k2 /k&#8722;1.
<div class="p"><!----></div>
</li>

<li> The QSSA condition specifies threshold T used by the QSSA abstraction method where T  &gt;  E0 / (S0 + KM).
<div class="p"><!----></div>
</li>

<li> The Max concentration threshold specifies the maximum number of molecules that a species can have initially and still be considered an operator site by the operator site reduction.
<div class="p"><!----></div>
</li>
</ul>
Note that these are not used by the common abstractions listed above.

<div class="p"><!----></div>

<div class="p"><!----></div>
     <h3><a name="tth_sEc5.3">
5.3</a>&nbsp;&nbsp;<a name="AnalysisSchematic">
</a>Schematic</h3>

<div class="p"><!----></div>
Using the schematic tab, you can adjust initial values and parameters allowing one to perform simulations to determine the effect of these changes.  Clicking on any species, promoter, reaction, or influence brings up the corresponding editor.  To change a value, switch the corresponding combo box to modified which will then allow you to change the value.  

<div class="p"><!----></div>

<center><img src="screenshots/paramEdit.png" alt="screenshots/paramEdit.png" />
</center>

<div class="p"><!----></div>
In addition to making single changes, you can also sweep a value as shown below.   When you click on the Sweep button, it brings up a window where you can select the start value, the stop value, and the step value.  The level indicates how the sweep should perform when multiple variables are swept at the same time.  A variables at the same level are changed at the same time.  Furthermore, all variables on level 2 are stepped through all their values before changing the values of those variables on level 1.  After the values on level 1 are changed, the values on level 2 are stepped through all their values again.  

<div class="p"><!----></div>

<center><img src="screenshots/sweep.png" alt="screenshots/sweep.png" />
</center>

<div class="p"><!----></div>
The schematic tab can also be used to visualize simulation results.  To do this, after you have generated some simulation results, you can press the Choose Simulation button to bring up a window with all the simulations in this analysis view.  You can then select the data that you would like to visualize.

<div class="p"><!----></div>

<center><img src="screenshots/chooseSim.png" alt="screenshots/chooseSim.png" />
</center>

<div class="p"><!----></div>
If you now click on a species, component, or grid location, you can modify how it appears as you playback the simulation.  You can have it change color on a gradient, change size, or change opacity.  You can also select the range of molecule counts to use for the gradients.  Finally, you can indicate that these selections are either for this species or all species in the model.  

<div class="p"><!----></div>

<center><img src="screenshots/editSpeciesAppearance.png" alt="screenshots/editSpeciesAppearance.png" />
</center>

<div class="p"><!----></div>
The appearances editor for components and grid locations is similar.  The differences are that you can select any species within the component (or diffusible species for the grid location).  You also can copy the settings to all instantiations of the same model.

<div class="p"><!----></div>

<center><img src="screenshots/compAppearances.png" alt="screenshots/compAppearances.png" />
</center>

<div class="p"><!----></div>
Once you have made your selections, you can now playback the simulation.  You can either single step the simulation by pressing the <img src="../gui/icons/modelview/movie/single_step.png" alt="../gui/icons/modelview/movie/single_step.png" /> icon or play continuously by pressing the <img src="../gui/icons/modelview/movie/play.png" alt="../gui/icons/modelview/movie/play.png" /> icon.  The playback can also be paused by pressing the <img src="../gui/icons/modelview/movie/pause.png" alt="../gui/icons/modelview/movie/pause.png" /> icon and restarted by pressing the  <img src="../gui/icons/modelview/movie/rewind.png" alt="../gui/icons/modelview/movie/rewind.png" /> icon. 

<div class="p"><!----></div>

<center><img src="screenshots/movieView.png" alt="screenshots/movieView.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc5.4">
5.4</a>&nbsp;&nbsp;<a name="AnalysisParameters">
</a>Parameters</h3>

<div class="p"><!----></div>
The parameter tab allows the user to modify the value of any model generation or global parameter for a given analysis.  Like the values on the schematic tab, they can also be swept to generate multiple simulation runs stepping through different values.

<div class="p"><!----></div>

<center><img src="screenshots/parameterEditor.png" alt="screenshots/parameterEditor.png" />
</center>

<div class="p"><!----></div>
     <h3><a name="tth_sEc5.5">
5.5</a>&nbsp;&nbsp;<a name="SBMLElements">
</a>SBML Elements</h3>

<div class="p"><!----></div>
The SBML elements tab allows you to select which SBML model elements to include in your analysis.  This includes initial assignments, rules, constraints, and events.  Elements that are checked are used during analysis.  Otherwise, they are not used.

<div class="p"><!----></div>

<center><img src="screenshots/SBMLElements.png" alt="screenshots/SBMLElements.png" />
</center>

<div class="p"><!----></div>
 <h2><a name="tth_sEc6">
6</a>&nbsp;&nbsp;<a name="Learn">
</a>Learn Tool</h2>

<div class="p"><!----></div>
The Learn Tool is used to discover genetic circuit connectivity from time series data.  This tool uses the GeneNet algorithm described in
<A HREF="http://www.async.ece.utah.edu/publications">
Barker's PhD dissertation (University of Utah 2007)
</A>
The first tab of the Learn Tool is the <em>data manager</em> which is shown below.  It is used to both enter time series experimental data as well as bring data into the learn view.  The Add button is used to create a new data file. After pressing this button, enter the name of the new data file, and then enter the data for this file using the data editor to the right.  The Remove button deletes all highlighted files.  Note that after highlighting one file, you can use the ctrl key to highlight additional files or the shift key to highlight a range of files.  The Rename button is used to change the name of a data file. The Copy button copies a data file. The Copy From View button brings up a list of all analysis and learn views in the current project, and data from the selected view will be copied into this learn view.  Finally, the Import button brings up a file browser, and it allows you to import a data file from outside
this project.  These files can be in time series data (TSD) format (see Section&nbsp;<a href="#TSD">12</a>), comma separated value (CSV) format, or tab delimited format (DAT).  
The contents of the data file highlighted on the left appear in the data editor on the right.  Individual data entries can be modified, new data points can be added using the Add Data Point button, data points can be removed using the Remove Data Point button, and data points can be copied using the Copy Data Point button.  When you are
satisfied with all your changes, you should press the Save button to record your changes.

<div class="p"><!----></div>

<center><img src="screenshots/dataManager.png" alt="screenshots/dataManager.png" />
</center>

<div class="p"><!----></div>
The second tab allows the user to configure the basic options for the Learn Tool.  The basic options include:

<ul>
<li> Minimum Number of Initial Vectors (Tn) (default=2): <br />
Tn is a threshold value used in the CreateInfluenceVectorSet algorithm and represents the minimum number of influence vectors constructed in this algorithm.
<div class="p"><!----></div>
</li>

<li> Maximum Influence Vector Size (Tj) (default=2): <br />
Tj is a threshold value used in the CombineInfluenceVectors algorithm to determine the maximal size of merged influence vectors.
<div class="p"><!----></div>
</li>

<li> Score for Empty Influence Vector (Ti) (default=0.5): <br />
The score for an influence vector with no influences in it.
<div class="p"><!----></div>
</li>

<li> Number of Bins (default=4): <br />
The number of bins value specifies how many values the encoded time series data can assume.
<div class="p"><!----></div>
</li>

<li> Equal Data Per Bins / Equal Spacing of Bins: <br />
This radio button selects whether the auto generated levels should be determined by equaling dividing the data between the bins or by equally dividing the range of the data.
<div class="p"><!----></div>
</li>

<li> Use Auto Generated Levels / Use User Generated Levels: <br />
This radio button allows the user to select whether they want the levels separating the bins to be auto generated or the user would like to provide them.
<div class="p"><!----></div>
</li>

<li> When using user provided levels, the Suggest Levels button will provide the levels that would have been auto
generated as a suggestion. These levels can then edited by the user.  The number of bins for each species can also be individually adjusted.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<center><img src="screenshots/learn.png" alt="screenshots/learn.png" />
</center>

<div class="p"><!----></div>
The third tab allow the user to select some advanced options for the Learn Tool.  These include:

<ul>
<li> Ratio for Activation (Ta) (default=1.15): <br />
A probability ratio above this value results in a vote for an influence vector that has a majority of activation influences.
<div class="p"><!----></div>
</li>

<li> Ratio for Repression (Tr) (default=0.75): <br />
A probability ratio above this value results in a vote for an influence vector that has a majority of repression influences.
<div class="p"><!----></div>
</li>

<li> Merge Influence Vectors Delta (Tm) (default=0.0): <br />
Two influence vectors cannot be merged unless the difference in their scores is less than this value.
<div class="p"><!----></div>
</li>

<li> Relax Thresholds Delta (Tt) (default=0.025): <br />
The values of Ta and Tr are modified by this amount when these thresholds are relaxed.
<div class="p"><!----></div>
</li>

<li> Debug Level (default=0): <br />
This controls how much information is displayed by the GeneNet algorithm when it runs.
<div class="p"><!----></div>
</li>

<li> Successors / Predecessors / Both (default=Successors): <br />
This radio button selects whether successor data point pairs, predecessor data point pairs, or both are used.
<div class="p"><!----></div>
</li>

<li> Basic FindBaseProb (default=unchecked): <br />
When selected, the basic FindBaseProb function is used.
<div class="p"><!----></div>
</li>

<li> View Log button:<br />
Opens a window contain the log file generated by GeneNet during the learn process for debugging purposes.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<center><img src="screenshots/advLearn.png" alt="screenshots/advLearn.png" />
</center>

<div class="p"><!----></div>
Once the Learn Tool has been provided data and configured as desired, pressing the Save and Run icon <img src="../gui/icons/run-icon.jpg" alt="../gui/icons/run-icon.jpg" /> causes the tool to attempt to produce a model that may have produced this data.  The resulting model is displayed using GraphViz, and the user is prompted to provide a model ID for the resulting model.  If learning fails, an error message will be reported instead.

<div class="p"><!----></div>
 <h2><a name="tth_sEc7">
7</a>&nbsp;&nbsp;<a name="TSDGraph">
</a>TSD Graph Editor</h2>

<div class="p"><!----></div>
The TSD graph editor appears as a tab in both analysis and learn views.  TSD graphs can also be created at the top-level of the project to allow you to integrate results from several analysis or learn views. These graphs can be created using the New &#8594; TSD Graph menu option in the File menu. Once created, they can be viewed and edited by double clicking on the graph in the project window.  An example graph is shown below.

<div class="p"><!----></div>

<center><img src="screenshots/ssaSimResults.png" alt="screenshots/ssaSimResults.png" />
</center>

<div class="p"><!----></div>
In the TSD graph editor, a graph is created by double clicking on the graph. You can then set various parameters and select what values you would like to have graphed. The parameters that you can select for a graph include: 

<ul>
<li> Title - the title of the graph.
<div class="p"><!----></div>
</li>

<li> X-Axis Label - the label displayed for the x-axis.
<div class="p"><!----></div>
</li>

<li> Y-Axis Label - the label displayed for the y-axis.
<div class="p"><!----></div>
</li>

<li> X-Min - the starting value for the x-axis.
<div class="p"><!----></div>
</li>

<li> X-Max - the ending value for the x-axis.
<div class="p"><!----></div>
</li>

<li> X-Step - the increment for the x-axis.
<div class="p"><!----></div>
</li>

<li> Y-Min - the starting value for the y-axis.
<div class="p"><!----></div>
</li>

<li> Y-Max - the ending value for the y-axis.
<div class="p"><!----></div>
</li>

<li> Y-Step - the increment for the y-Axis.
<div class="p"><!----></div>
</li>

<li> Auto Resize Check Box - determines whether to automatically resize the graph for best fit.
<div class="p"><!----></div>
</li>

<li> X-Axis Combo Box - selects which variable to use for the x-axis (default=time).
<div class="p"><!----></div>
</li>

<li> LogX - selects that the scale of the x-axis should be logarithmic.
<div class="p"><!----></div>
</li>

<li> LogY - selects that the scale of the y-axis should be logarithmic.
<div class="p"><!----></div>
</li>

<li> Visible Legend - selects that the legend should appear on the graph.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<center><img src="screenshots/ssaResults.png" alt="screenshots/ssaResults.png" />
</center>

<div class="p"><!----></div>
The data selection menu on the left displays all of the available sets of data that can be graphed.  For a top-level graph, these data sets are organized hierarchically.  Hierarchy is also introduced when different simulations in an analysis view are given different simulation IDs or after performing an analysis while sweeping parameter values.  In addition to being able to plot results from individual simulation runs, the average, standard deviation, and variance are also provided.  Finally, when constraints are used, the Termination TIme and Percent Termination data is also computed.  The Termination Time gives a plot fo the number of runs that have terminated versus time while Percent Termination gives the percentage of runs that have terminated versus time.
After selecting a data set, one can select individual variables (typically species) to graph and how they are to be displayed.  In other words, for each species, there are the following options: 

<ul>
<li> Use Check Box - determines whether or not this species is displayed on the graph.  Checking or unchecking the box at the top changes the state for all species in the data set.
<div class="p"><!----></div>
</li>

<li> Species Label - the name displayed in the legend.
<div class="p"><!----></div>
</li>

<li> Drop Down Menu Of Colors - the color that is used for this species.
<div class="p"><!----></div>
</li>

<li> Color Palette - clicking on the color palette lets one customize the color selection.
<div class="p"><!----></div>
</li>

<li> Drop Down Menu Of Shapes - the shape that is used to mark the data points.
<div class="p"><!----></div>
</li>

<li> Connect Check Box - determines whether to connect the points with a line.  Checking or unchecking the box at the top changes the state for all species in the data set.
<div class="p"><!----></div>
</li>

<li> Visible Check Box - determines whether shapes are visible on the line.  Checking or unchecking the box at the top changes the state for all species in the data set.
<div class="p"><!----></div>
</li>

<li> Fill Check Box - determines whether shapes are filled on the line.  Checking or  unchecking the box at the top changes the state for all species in the data set.
<div class="p"><!----></div>
</li>
</ul>
Note that a check mark appears on a data set to indicate that some species have been selected in that data set. Also, all species can be deselected by pressing the Deselect All button.

<div class="p"><!----></div>
When in a TSD graph editor, pressing the Save icon <img src="../gui/icons/save.png" alt="../gui/icons/save.png" /> saves the settings for the graph to a file, so when you re-open the graph, it will reload this data and display in the same way as before.  Pressing the Save As icon <img src="../gui/icons/saveas.png" alt="../gui/icons/saveas.png" /> prompts for a new filename and creates a new top-level graph with that name.  Finally, pressing the Export icon <img src="../gui/icons/export.jpg" alt="../gui/icons/export.jpg" /> prompts for a filename and exports the data to the given name.  The extension provided for the filename is used to determine how the graph is to be exported. The supported file types are: 

<ul>
<li> Time series data format (tsd), see Section&nbsp;<a href="#TSD">12</a>..
<div class="p"><!----></div>
</li>

<li> Comma separated value (csv).
<div class="p"><!----></div>
</li>

<li> Column separated data (dat).
<div class="p"><!----></div>
</li>

<li> Encapsulated postscript (eps).
<div class="p"><!----></div>
</li>

<li> Joint Photographic Experts Group (jpg).
<div class="p"><!----></div>
</li>

<li> Portable document format (pdf).
<div class="p"><!----></div>
</li>

<li> Portable network graphics (png).
<div class="p"><!----></div>
</li>

<li> Scalable vector graphics (svg).
<div class="p"><!----></div>
</li>
</ul>
If no extension is given, then the file type is the one specified in the file filter (default is pdf).  For image (i.e.,
not data) file types, you will be prompted to give a desired pixel height and width for the file before the file is exported. 

<div class="p"><!----></div>
 <h2><a name="tth_sEc8">
8</a>&nbsp;&nbsp;<a name="Histogram">
</a>Histogram Graph Editor</h2>

<div class="p"><!----></div>
<tt>iBioSim</tt> includes a histogram graph editor for visualizing probability data.  In particular, this editor can display the reasons that a simulation terminated.  Namely, it displays statistics on which constraint failed to hold allowing the user to determine the likelihood of various conditions.  The histogram graph editor appears as a tab in analysis
views.  Histograms can also be created at the top-level of the project to allow you to integrate results from several analysis views.  These graphs can be created using the New &#8594; Histogram menu option in the File menu. Once created, they can be viewed and edited by double clicking on the graph in the project window.  An example histogram is shown below.

<div class="p"><!----></div>

<center> <img src="screenshots/probResults.png" alt="screenshots/probResults.png" />
</center>

<div class="p"><!----></div>
In the histogram graph editor, a graph is created by double clicking on the graph. You can then set various parameters and select what values you would like to have graphed. The parameters that you can select for a graph include: 

<ul>
<li> Title - the title of the graph.
<div class="p"><!----></div>
</li>

<li> X-Axis Label - the label displayed for the x-axis.
<div class="p"><!----></div>
</li>

<li> Y-Axis Label - the label displayed for the y-axis.
<div class="p"><!----></div>
</li>

<li> Paint in Gradient Style - creates a color gradient in the bars.
<div class="p"><!----></div>
</li>

<li> Paint Bar Shadows - enables the bars to cast shadows.
<div class="p"><!----></div>
</li>

<li> Visible Legend - selects whether a legend should be included in the graph.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<center><img src="screenshots/editProbGraph.png" alt="screenshots/editProbGraph.png" />
</center>

<div class="p"><!----></div>
The data selection menu on the left displays all of the available sets of data that can be graphed.  For a top-level graph, these data sets are organized hierarchically.  Hierarchy is also introduced when different simulations in an analysis view are given different simulation IDs or after performing an analysis while sweeping parameter values.  After selecting a data set, one can select individual constraints to graph.  The constraint labeled time-limit indicates that the simulation terminated while all constraints were still satisfied.  One can also select how each result is to be displayed.  In other words, for each constraint, there are the following options: 

<ul>
<li> Use Check Box - determines whether or not this constraint is displayed on the graph.  Checking or 
unchecking the box at the top changes the state for all constraints in the data set.
<div class="p"><!----></div>
</li>

<li> Constraint Label - sets the name displayed in the legend.
<div class="p"><!----></div>
</li>

<li> Drop Down Menu Of Colors - the color of the bar used for this constraint.
<div class="p"><!----></div>
</li>

<li> Color Palette - clicking on the color palette lets one customize the color selection.
<div class="p"><!----></div>
</li>
</ul>
Note that a check mark appears on a data set to indicate that some constraints have been selected in that data set.  Also, all constraints can be deselected by pressing the Deselect All button.

<div class="p"><!----></div>
When in a histogram graph editor, pressing the Save icon <img src="../gui/icons/save.png" alt="../gui/icons/save.png" /> saves the settings for the graph to a file, so when you re-open the graph, it will reload this data and display in the same way as before.  Pressing the Save As icon <img src="../gui/icons/saveas.png" alt="../gui/icons/saveas.png" /> prompts for a new filename and creates a new top-level graph with that name.  Finally, pressing the Export icon <img src="../gui/icons/export.jpg" alt="../gui/icons/export.jpg" /> prompts for a filename and exports the data to the given name.  The extension provided for the filename is used to determine how the graph is to be exported. The supported file types are: 

<ul>
<li> Encapsulated postscript (eps).
<div class="p"><!----></div>
</li>

<li> Joint Photographic Experts Group (jpg).
<div class="p"><!----></div>
</li>

<li> Portable document format (pdf).
<div class="p"><!----></div>
</li>

<li> Portable network graphics (png).
<div class="p"><!----></div>
</li>

<li> Scalable vector graphics (svg).
<div class="p"><!----></div>
</li>
</ul>
If no extension is given, then the file type is the one specified in the file filter (default is pdf).  For image (i.e.,
not data) file types, you will be prompted to give a desired pixel height and width for the file before the file is exported. 

<div class="p"><!----></div>
 <h2><a name="tth_sEc9">
9</a>&nbsp;&nbsp;<a name="Preferences">
</a>Preferences</h2>

<div class="p"><!----></div>
User preferences can be set by selecting the <tt>Preferences</tt> option under the <tt>File</tt> menu on Linux and Windows or the <tt>iBioSim</tt> menu on MacOS.  As shown below, under the General Preferences tab, the
user can decide whether they wish to use a File Dialog for selecting files.  If this is not checked, files are selected using the default Java File Chooser.  One can also choose whether or not they want to use plus/minus for expanding and collapsing file trees.  The Model Preferences tab allows users to select between Level 3 Version 1 of SBML or Level 2 Version 4.  One can also select whether they wish to see warnings about undeclared units in SBML and whether they wish to check units at all.  Finally, it allows users to change the default model generation parameter values.  The Analysis Preferences tab allows users to change the default values used by the analysis tool.  The simulation command in particular can be useful to either select an alternative simulator.  We've used it to select a script that executes the simulation on a compute server.  Finally, the Learn Preferences tab allows users to change the default values used by the learn tool.

<div class="p"><!----></div>

<center>
<table>
<tr><td align="center"><img src="screenshots/GenPref.png" alt="screenshots/GenPref.png" /> </td><td align="center"><img src="screenshots/ModelPref.png" alt="screenshots/ModelPref.png" /> 
</td></tr></table>
 <br />

<table>
<tr><td align="center"><img src="screenshots/AnaPref.png" alt="screenshots/AnaPref.png" /> </td><td align="center"><img src="screenshots/LearnPref.png" alt="screenshots/LearnPref.png" />
</td></tr></table>

</center>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
 <h2><a name="tth_sEc10">
10</a>&nbsp;&nbsp;<a name="SBMLMath">
</a>Mathematical Formulas</h2>

<div class="p"><!----></div>
Math formulas appear in many model constructs.  These formulas are expressed as text strings using a simple syntax.  In particular, model math formulas can include: 

<ul>
<li> Variables (compartment, species, parameter IDs, and reaction IDs)
<div class="p"><!----></div>
</li>

<li> Real Numbers
<div class="p"><!----></div>
</li>

<li> Built-in constants: exponentiale, pi, true, and false.
<div class="p"><!----></div>
</li>

<li> Special variable time or t which returns the current simulation time.
<div class="p"><!----></div>
</li>

<li> Mathematical operators including add (+), subtract (-), multiply (*), divide (/), and power (pow(x,y)).
<div class="p"><!----></div>
</li>

<li> A function defined in the list of function definitions.
<div class="p"><!----></div>
</li>

<li> Logical functions: and, or, xor, not.
<div class="p"><!----></div>
</li>

<li> Relational functions: eq, neq, geq, gt, leq, and lt.
<div class="p"><!----></div>
</li>

<li> Unary functions: abs, ceiling, exp, factorial, floor, ln, log, sqr, and sqrt.
<div class="p"><!----></div>
</li>

<li> Trigonometric functions: cos, cosh, sin, sinh, tan, tanh, cot, coth, csc, csch, sec, sech, arccos, arccosh, arcsin, arcsinh, arctan, arctanh, arccot, arccoth, arccsc, arccsch, arcsec, and arcsech.
<div class="p"><!----></div>
</li>

<li> The delay(expr1,expr2) function which returns the value of expr1 at a time expr2 time units earlier (not currently supported by analysis).
<div class="p"><!----></div>
</li>

<li> The piecewise(value1, case1, value2, case2, ..., otherwise) function returns value1 if case1 is true, value2 if case2 is true, etc.  If no cases are true, it returns the otherwise value.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
<tt>iBioSim</tt>'s simulators also support several random functions which are added by default to any model file.  The following random functions, therefore, can also be used in model math formula:

<ul>
<li> Continuous random functions: uniform(a,b), normal(m,s), exponential(mu), gamma(a,b), lognormal(z,s), chisq(nu), laplace(a), cauchy(a), and rayleigh(s).
<div class="p"><!----></div>
</li>

<li> Discrete random functions: poisson(mu), binomial(p,n), and bernoulli(p).
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
 <h2><a name="tth_sEc11">
11</a>&nbsp;&nbsp;<a name="CSL">
</a>Continuous Stochastic Logic (CSL) Formulas</h2>

<div class="p"><!----></div>
To analyze a probabilistic models using <tt>iBioSim</tt>, it is necessary to specify one or more properties of
the model.  <tt>iBioSim</tt> accepts property specifications using a subset of probabilistic temporal logic <em>Continuous Stochastic Logic</em> (CSL).  There are four types of CSL properties currently supported:

<ul>
<li> Transient global formula of the form Pr{PG [ &#968; ]( &#936; )} where &#968; is a time bound &#936; is state formula.  This formula determines the probability that &#936; is always true in the interval defined by &#968;.
<div class="p"><!----></div>
</li>

<li> Transient eventually formula of the form Pr{PF [ &#968; ]( &#936; )} where &#968; is a time bound &#936; is a state formula.  This formula determines the probability that &#936; is becomes true during the interval defined by &#968;.
<div class="p"><!----></div>
</li>

<li> Transient until formula of the form Pr{&#936;<sub>1</sub> PU [ &#968; ] &#936;<sub>1</sub>} where &#968; is a time bound &#936;<sub>1</sub> and &#936;<sub>2</sub> are state formula.  This formula determines the probability that &#936;<sub>1</sub> remains true until &#936;<sub>2</sub> becomes true during the interval defined by &#968;.
<div class="p"><!----></div>
</li>

<li> Steady-state formula of the form St{&#936;} where &#936; is a state formula.  This formula determines the probability of being in a state that satisfies &#936; as time goes to infinity.
<div class="p"><!----></div>
</li>
</ul>
The time bounds, &#968;, can either be a relational operator ( &lt; ,  &#8804; , =,  &#8805; ,  &gt; ) followed by a constant integer time value.  They can also be a time bound of the form [ l, u ] where l and u are constant integer time values.  The state formula, &#936;, can include:

<ul>
<li> Variables (compartment, species, parameter IDs, and reaction IDs)
<div class="p"><!----></div>
</li>

<li> Real Numbers
<div class="p"><!----></div>
</li>

<li> Mathematical operators: add (+), subtract (-), multiply (*), divide (/), and power (^).
<div class="p"><!----></div>
</li>

<li> Logical functions: and (&amp;), or (&#124;), and not (&#160;&#8764;&#160;).
<div class="p"><!----></div>
</li>

<li> Relational functions: equals (=), greater-or-equals ( &#8805; ), greater-than ( &gt; ), less-or-equals ( &#8804; ), and less-than ( &lt; ).

<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
 <h2><a name="tth_sEc12">
12</a>&nbsp;&nbsp;<a name="TSD">
</a>Time Series Data Format</h2>

<div class="p"><!----></div>
The time series data (tsd) format is composed of a parenthesized and comma-separated set of time points. Each time point is composed of a parenthesized and comma-separated set of data for that time point. This first time point is composed of a set of strings that are the labels for the data entries. The first entry in each time point is by convention the time for that time point. Below is an example simulation of the species CI and CII from 0 to 1000 seconds with time points separated by 100 seconds. 

<div class="p"><!----></div>
(("time","CI","CII"), (0,0,0), (100,0,19), (200,20,25), (300,19,18), (400,17,20), (500,17,46), <br />
(600,26,40), (700,43,43), (800,63,28), (900,72,34), (1000,72,28))

<div class="p"><!----></div>
 <h2><a name="tth_sEc13">
13</a>&nbsp;&nbsp;Tutorial</h2>

<div class="p"><!----></div>
A detailed 
<a href="iBioSim_Tutorial.html">
tutorial
</a>
is available in the <tt>docs</tt> directory that comes with the distribution.

<div class="p"><!----></div>
 <h2><a name="tth_sEc14">
14</a>&nbsp;&nbsp;Reporting Bugs and Feature Requests</h2>

<div class="p"><!----></div>
In order to report a bug or to request a change or feature, please
send an email to:<br />
<a href="mailto:atacs-bugs@vlsigroup.ece.utah.edu">
<tt>atacs-bugs@vlsigroup.ece.utah.edu</tt>.<br />
</a>
The subject line must begin with one of the following keywords or the
mail will be filtered by our spam filters:

<ul>
<li> BUG - error or crash of the software
<div class="p"><!----></div>
</li>

<li> CHANGE - something which can be improved
<div class="p"><!----></div>
</li>

<li> FEATURE - something new
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>

<br /><br /><hr /><small>File translated from
T<sub><font size="-1">E</font></sub>X
by <a href="http://hutchinson.belmont.ma.us/tth/">
T<sub><font size="-1">T</font></sub>H</a>,
version 3.85.<br />On 26 Aug 2011, 11:40.</small>
</html>
