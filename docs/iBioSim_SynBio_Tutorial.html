<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
           "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<meta name="GENERATOR" content="TtH 3.81">
 <style type="text/css"> div.p { margin-top: 7pt;}</style>
 <style type="text/css"><!--
 td div.comp { margin-top: -0.6ex; margin-bottom: -1ex;}
 td div.comb { margin-top: -0.6ex; margin-bottom: -.6ex;}
 td div.hrcomp { line-height: 0.9; margin-top: -0.8ex; margin-bottom: -1ex;}
 td div.norm {line-height:normal;}
 span.roman {font-family: serif; font-style: normal; font-weight: normal;} 
 span.overacc2 {position: relative;  left: .8em; top: -1.2ex;}
 span.overacc1 {position: relative;  left: .6em; top: -1.2ex;} --></style>
 


<title> iBioSim Version 2.7 \ Tutorial</title>
 
<h1 align="center">iBioSim Version 2.7 <br />Tutorial </h1>

<div class="p"><!----></div>

<h3 align="center">Chris J. Myers </h3>

<div class="p"><!----></div>
 
<div class="p"><!----></div>

<h1>Contents </h1><a href="#tth_sEc1"
>1&nbsp; Introduction</a><br />
<a href="#tth_sEc2"
>2&nbsp; Project Management</a><br />
<a href="#tth_sEc3"
>3&nbsp; Importing Models</a><br />
<a href="#tth_sEc4"
>4&nbsp; Model Editor</a><br />
<a href="#tth_sEc5"
>5&nbsp; SBOL Browser</a><br />
<a href="#tth_sEc6"
>6&nbsp; Analysis Tool</a><br />
<a href="#tth_sEc7"
>7&nbsp; Grid Models</a><br />


<div class="p"><!----></div>
 <h2><a name="tth_sEc1">
1</a>&nbsp;&nbsp;Introduction</h2>

<div class="p"><!----></div>
<tt>iBioSim</tt> has been developed for the modeling, analysis, and design of genetic circuits.  While <tt>iBioSim</tt> primarily targets models of genetic circuits, models representing metabolic networks, cell-signaling pathways, and other biological and chemical systems can also be analyzed.  
<tt>iBioSim</tt> makes extensive use of standard data representations.  Models are specified in <tt>iBioSim</tt> in the <A HREF="http://www.sbml.org/">
<em>Systems Biology Markup Language</em>
</A>
&nbsp;(SBML).  It can import all levels and versions of SBML and is able to export Level 3 Version 1.  It supports all core SBML modeling constructs except some types of <em>fast</em> reactions, and also has support for the hierarchical model composition, layout, flux balance constraints, and arrays packages.  It was the first tool to produce correct results for all examples in the SBML benchmark suite.  It has also been tested successfully on the stochastic benchmark suite and the curated models in the 
<A HREF="http://www.ebi.ac.uk/biomodels-main/">
<em>BioModels database</em>.
</A>
<tt>iBioSim</tt> can also import 
<A HREF="http://sed-ml.org/">
<em>SED-ML</em> files 
</A>
that describe simulation experiments.  Finally, it is one of the first tools to also support the 
<A HREF="http://www.sbolstandard.org/">
<em>Synthetic Biology Open Language</em>
</A>  
&nbsp;(SBOL), an emerging standard for information exchange in synthetic biology.

<div class="p"><!----></div>
<tt>iBioSim</tt> includes the following components: 

<div class="p"><!----></div>

<ul>
<li> Model Editor - a tool to create a model of a genetic circuit or other biological system.
<div class="p"><!----></div>
</li>

<li> SBOL Browser - a tool to view SBOL files and associate DNA components to model elements.
<div class="p"><!----></div>
</li>

<li> Analysis Tool - an abstraction-based ODE, Monte Carlo, and Markov analysis tool.
<div class="p"><!----></div>
</li>

<li> Learn Tool - a tool to learn a model from <em>time series data</em> (TSD).
<div class="p"><!----></div>
</li>

<li> TSD Graph Editor- a tool to visualize TSD files.
<div class="p"><!----></div>
</li>

<li> Histogram Graph Editor - a tool to visualize probability data.
<div class="p"><!----></div>
</li>
</ul>

<div class="p"><!----></div>
This tutorial illustrates the first three of these features of <tt>iBioSim</tt> using a model of the Genetic Toggle Switch (Gardner et al., 2000).

<div class="p"><!----></div>
 <h2><a name="tth_sEc2">
2</a>&nbsp;&nbsp;Project Management</h2>

<div class="p"><!----></div>
Within <tt>iBioSim</tt>, all files are collected within projects.   A project is a collection of models, analysis views, learn views, and graphs.  As shown below, <tt>iBioSim</tt> displays all project files on the left, the open models, views, and graphs on the right, and a log of all external commands on the bottom.  The menu bar is located on the top of the window in the Windows and Linux versions.  It is located on the top of the screen in the MacOS version.

<div class="p"><!----></div>

<center><img src="screenshots/iBioSim.png" alt="screenshots/iBioSim.png" />
</center>

<div class="p"><!----></div>
To create a new project, select New &#8594; Project from the File menu as shown below.  You will then be prompted to browse to a desired location and to give a name to the project directory.  Enter the name <tt>SynBioTutorial</tt>.  After you do this, click the new button and a new project directory will be created.  

<div class="p"><!----></div>

<center><img src="screenshots/project.png" alt="screenshots/project.png" />
</center>

<div class="p"><!----></div>
 <h2><a name="tth_sEc3">
3</a>&nbsp;&nbsp;Importing Models</h2>

<div class="p"><!----></div>
In order to do analysis within <tt>iBioSim</tt>, you must first have models to analyze.  The simplest way to obtain a model to analyze is to import it from an external source.  As shown below, using the menu option File &#8594; Import, <tt>iBioSim</tt> can import models in a variety of ways.  First, one can simply import an SBML model from somewhere on the local file system.  

<div class="p"><!----></div>

<center><img src="screenshots/import.png" alt="screenshots/import.png" />
</center>

<div class="p"><!----></div>
One can also import an SBML model from the EMBL-EBI's BioModels Repository by selecting the menu option File &#8594; Import &#8594; BioModel.  This brings up the window shown below without the model names.  Pressing the Get Names button will fetch the names, but this takes awhile the first time, so let's skip that for now.  Instead, scroll down to BIOMD0000000507 and Press the Get Description button which brings up the BioModels entry for this model in a browser, which you can see is the original model of the genetic toggle switch.  The Get Reference button brings up a browser entry for the original publication.  With BIOMD0000000507 highlighted, press OK to fetch this SBML model.  Since this model does not include any layout information, you will need to either lay it out by hand or use one of the default layout routines selectable using the Apply Layout icon <img src="../gui/icons/modelview/choose_layout_selected.png" alt="../gui/icons/modelview/choose_layout_selected.png" />.  Horizontal Hierarchical layout works well for this model.  Click on the "X" to close the window.

<div class="p"><!----></div>

<center><img src="screenshots/BioModels.png" alt="screenshots/BioModels.png" />
</center>

<div class="p"><!----></div>
Another source for import of SBML models is from Newcastle University's Virtual Parts Repository.  In this case, you can either import a model of the part or of the part's interactions.  

<div class="p"><!----></div>

<center><img src="screenshots/VirtualParts.png" alt="screenshots/VirtualParts.png" />
</center>

<div class="p"><!----></div>
Next, you can import a <em>labeled Petri net</em> (LPN) model.  Petri net models are a type of discrete modeling formalism similar to a state machine though with more support for the modeling of concurrent systems.  LPNs extend Petri nets with labels that indicate when state transitions are enabled, the time they take, and how they update the system state.  <tt>iBioSim</tt> uses the LPN format for Markov chain analysis of biological systems.  

<div class="p"><!----></div>
We can also import an SBOL file that provides annotated DNA sequences for DNA components.  More on this later.  

<div class="p"><!----></div>
Finally, we can import a SED-ML file that describes a simulation experiment. 
Importing a SED-ML file will also import the SBML models required for the simulation followed by performing the simulation.   To see how this works, select File &#8594; Import &#8594; SED-ML File, and browse to the install directory for <tt>iBioSim</tt>.  Continue browsing from here to the directory:<br />
<tt>&lt;INSTALL DIRECTORY&#62;/docs/SynBioTutorial/SBMLTestSuite</tt> <br />
which contains the SBML testsuite files.  Go to test 00001, and select the file:<br />
<tt>00001-sbml-l3v1-sedml.xml</tt>.  This will import an SBML model called <tt>case00001.xml</tt> and simulate it.  Click on the tab labelled TSD Graph to see the result of an ODE simulation of this model.  Repeat these steps to import a SED-ML file for test case 01195.  This SBML model is a <em>flux balance</em> model, so the analysis performed is flux balance analysis.  To see the results, click on the Histogram tab.  Now, click on the "X" to close each window.

<div class="p"><!----></div>

<center><img src="screenshots/TestSuiteResults.png" alt="screenshots/TestSuiteResults.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/FBAresults.png" alt="screenshots/FBAresults.png" />
</center>

<div class="p"><!----></div>
 <h2><a name="tth_sEc4">
4</a>&nbsp;&nbsp;Model Editor</h2>

<div class="p"><!----></div>
Let us know see how to create a new model using the Model Editor.  First, select New &#8594; Model from the File menu as shown below. You will then be prompted to enter a model ID.  Enter <tt>LacI_Inverter</tt>.  At this point, a Model editor will open in a new tab.

<div class="p"><!----></div>

<center><img src="screenshots/newModel.png" alt="screenshots/newModel.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/ModelIdGT.png" alt="screenshots/ModelIdGT.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/schematicGT.png" alt="screenshots/schematicGT.png" />
</center>

<div class="p"><!----></div>
To add a chemical species, select the Add Species icon <img src="../gui/icons/modelview/add_species_selected.png" alt="../gui/icons/modelview/add_species_selected.png" /> and click on the schematic canvas.  This will drop a new species with default ID and other values.  You may change these defaults by clicking on the selection icon 
<img src="../gui/icons/modelview/select_mode_selected.png" alt="../gui/icons/modelview/select_mode_selected.png" />, and
double-clicking on the species to open the Species Editor.  In this case, let us change the ID to LacI and change the Port type to <em>input</em>.  We will leave all the other values at their default values.  The port type of input indicates that this species will be used as an input for the LacI inverter.   
Note that while in the select mode, you can also select an object in the schematic and move it by moving the mouse while holding the left mouse button.  Pressing the right mouse button while an object is selected brings up a menu that allows you to delete an object from the schematic.  Repeat the steps above to add TetR and GFP species.  Give these species port type of <em>output</em>. 

<div class="p"><!----></div>

<center><img src="screenshots/speciesGT.png" alt="screenshots/speciesGT.png" />
</center>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
Next, let's add the pLac promoter, which initiates transcription of the gene that produces the proteins TetR and GFP.  To do this, select the promoter icon <img src="../gui/icons/modelview/promoter_mode_selected.png" alt="../gui/icons/modelview/promoter_mode_selected.png" /> and click on the schematic canvas to drop the promoter with a default ID and parameter values.  Double-click on the promoter to bring up the promoter editor.  Change the ID to pLac.

<div class="p"><!----></div>

<center><img src="screenshots/promoterGT.png" alt="screenshots/promoterGT.png" /> 
</center>

<div class="p"><!----></div>
The pLac promoter is repressed by the LacI species.  To create this relationship, select the repression arc icon 
<img src="../gui/icons/modelview/inhibition_selected.png" alt="../gui/icons/modelview/inhibition_selected.png" />, highlight the LacI species, and, while holding the mouse button, stretch the repression arc to the pLac promoter.  

<div class="p"><!----></div>

<center><img src="screenshots/repressionGT.png" alt="screenshots/repressionGT.png" /> 
</center>

<div class="p"><!----></div>
As mentioned earlier, the pLac promoter initiates the production of the TetR and GFP species.  Highlight the pLac promoter and, while holding the mouse button, stretch the production arc to the TetR species.  Repeat these steps to create a production arc between the pLac promoter and GFP species.  Note that the icons selected for this are not important because all arcs from promoters to species are always production arcs.  

<div class="p"><!----></div>

<center><img src="screenshots/productionGT.png" alt="screenshots/productionGT.png" />
</center>

<div class="p"><!----></div>
Let us now annotate the LacI inverter with its DNA sequence.  To do this, we will need to first import some annotated sequence data stored using the <em>synthetic biology open language</em> (SBOL).  Select the File &#8594; Import &#8594; SBOL File menu option as shown below.  This will bring up a file browser.  You will need to find the location where <tt>iBioSim</tt> is installed, and the file you want to import should be located in <tt>iBioSim/docs/SynBioTutorial/SBOL/GeneticToggle.sbol</tt>.  

<div class="p"><!----></div>

<center><img src="screenshots/importSBOL.png" alt="screenshots/importSBOL.png" />
</center>

<div class="p"><!----></div>
Next, click on the Model button in the schematic editor which brings up the Model editor shown below.  

<div class="p"><!----></div>

<center><img src="screenshots/ModelEditorGT.png" alt="screenshots/ModelEditorGT.png" />
</center>

<div class="p"><!----></div>
Next, click on the Associate SBOL button, highlight the placeholder for the DNA component, and click the Remove button.  Then, press the Add button which will open the SBOL browser shown below.  In the list of DNA components, scroll down to the component named pIKERightCassette_1, select it, and press OK.

<div class="p"><!----></div>

<center><img src="screenshots/SBOLBrowserGT.png" alt="screenshots/SBOLBrowserGT.png" />
</center>

<div class="p"><!----></div>
The SBOL association editor should now show this DNA component as being associated with this model.  We could now add more components, if we wish, but only one is needed for this, so press Ok.  We are now done with the LacI inverter model, so let's make sure the model is saved by either clicking on the Save icon <img src="../gui/icons/save.png" alt="../gui/icons/save.png" /> or selecting the Save option from the File menu.

<div class="p"><!----></div>

<center><img src="screenshots/SBOLAssociationGT.png" alt="screenshots/SBOLAssociationGT.png" />
</center>

<div class="p"><!----></div>
Next, repeat the steps above to create a TetR_Inverter model.  The TetR inverter has input TetR and output LacI.  In the TetR inverter, TetR represses the production of LacI.  To indicate this, select the repression icon <img src="../gui/icons/modelview/inhibition_selected.png" alt="../gui/icons/modelview/inhibition_selected.png" />, highlight the TetR species and stretch the arc to the LacI species.  This action creates an implicit promoter P0 that is repressed by TetR and initiates production of LacI.  When you associate SBOL with this model, select the pIKELeftCassette_1 component, and select for it to be put on the Minus Strand by checking the box on the SBOL association window.  Do not forget to save this model either by clicking on the Save icon <img src="../gui/icons/save.png" alt="../gui/icons/save.png" /> or selecting the Save option from the File menu.

<div class="p"><!----></div>

<center><img src="screenshots/implicitPromoterGT.png" alt="screenshots/implicitPromoterGT.png" />
</center>

<div class="p"><!----></div>
Now, let us put these genetic inverters into a new model called GeneticToggle.
This model will be the top-level model, and all elements of this model will be enclosed in this model's <em>compartment</em>.  Compartments are the membrane-enclosed regions where species can be found and reactions take place.  <tt>iBioSim</tt> creates a default compartment initially with the ID of Cell.  If you click on the schematic within the Cell compartment, it brings up the compartment editor.  Uncheck the "Is Mapped to a Port".  This indicates that this compartment should be enclosing this model and not replaced when instantiated in a larger model.  Once you press OK, you will notice that the compartment now has rounded corners to indicate that this is membrane enclosed by the compartment Cell.

<div class="p"><!----></div>

<center><img src="screenshots/compartmentGT.png" alt="screenshots/compartmentGT.png" />
</center>

<div class="p"><!----></div>
Now, lets add the LacI_Inverter component to this model.  Select the Add Component icon <img src="../gui/icons/modelview/add_component_selected.png" alt="../gui/icons/modelview/add_component_selected.png" /> and click on the Schematic canvas opening the Add Component(s) window.  In this window, browse the combo box, if necessary, to find your LacI_Inverter model.  Pressing OK will then add it to your schematic.  Repeat these steps to add the TetR_Inverter.

<div class="p"><!----></div>

<center><img src="screenshots/subModelGT.png" alt="screenshots/subModelGT.png" />
</center>

<div class="p"><!----></div>
The next step is to connect the components through their species.   To do this, add species to the model for LacI, TetR, and GFP.  Mark that each of these species degrades, and set the initial amount of LacI to 60.  The degrades checkbox means that when this model is analyzed a default degradation reaction will be created which has a rate of 0.0075.  Next, highlight the LacI species and stretch a connection to the LacI_Inverter connecting it to its LacI input port.  Next, highlight the LacI_Inverter and stretch to the TetR species.  In this case, since there are two output ports, you must select the TetR output port is the one desired.  Next, highlight the TetR species and stretch to the TetR_Inverter to connect to the TetR input port.  Next, highlight the TetR_Inverter and stretch to the LacI species to connect it to its LacI output port.  Finally, highlight the Lac_Inverter and stretch to the GFP species being sure to select to connect to its GFP output port.  

<div class="p"><!----></div>

<center><img src="screenshots/addConnectionGT.png" alt="screenshots/addConnectionGT.png" />
</center>

<div class="p"><!----></div>
By instantiating these models together, the SBOL associated with each component will now be composed as well.  To add some description for this composite DNA component, click on the Model button, followed by the Associate SBOL button on the Model Editor, and finally the Edit Composite button on the SBOL Association window.  You can now add an ID, Name, and Description for this composite DNA component as shown below.  

<div class="p"><!----></div>

<center><img src="screenshots/compSBOLDesc.png" alt="screenshots/compSBOLDesc.png" />
</center>

<div class="p"><!----></div>
Next let us add the complex formation reactions that sequester LacI and TetR preventing them from acting as repressors.  First, add the small molecule species IPTG and aTc.  Select <em>boundary condition</em> to indicate they are replenished inputs to the system.  Next, add the complex species IPTG_LacI and aTc_TetR and mark that they degrade.  Now, select the complex formation icon <img src="../gui/icons/modelview/bio_activation_selected.png" alt="../gui/icons/modelview/bio_activation_selected.png" />, highlight the IPTG species, and, while holding the mouse button, stretch the complex formation arc to the IPTG_LacI species.  Repeat this step to connect complex formation arcs between LacI and this complex, as well as from aTc and TetR to the aTc_TetR complex.  Finally, click on the selection icon 
<img src="../gui/icons/modelview/select_mode_selected.png" alt="../gui/icons/modelview/select_mode_selected.png" />, and
double-click on each complex formation to open the Influence Editor.  In this editor, change the Stoichiometry of binding (nc) from 2 to 1 by first changing "default" to "custom" then editing the value.

<div class="p"><!----></div>

<center><img src="screenshots/complexGT.png" alt="screenshots/complexGT.png" />
</center>

<div class="p"><!----></div>
The final step in the model creation is to add some discrete events to change the amounts of IPTG and aTc, so we may see the genetic toggle switch change state during simulation.  First, select the event icon <img src="../gui/icons/modelview/event_mode_selected.png" alt="../gui/icons/modelview/event_mode_selected.png" />, and click on the schematic to add an event.  This action opens the event editor.  In this editor, create an event with ID "IPTG_High", a trigger of "true", and a delay of 2000.  Next, click on Add Assignment to bring up the Event Assignment Editor.  In this editor, select the variable IPTG and provide the assignment of 60.  Press the Add button to add the assignment and the Add button to add the event.  This event will cause the amount of IPTG to change to 60 molecules after 2000 seconds of simulation time.  Repeat these steps to create an "IPTG_Low" event with a delay of 4000 which assigns 0 to IPTG, an "aTc_High" event with a delay of 6000 which assigns 60 to aTc, and finally an "aTc_Low" event with a delay of 8000 which assigns 0 to aTc.

<div class="p"><!----></div>

<center><img src="screenshots/eventGT.png" alt="screenshots/eventGT.png" />
</center>

<div class="p"><!----></div>
You should now have a complete model of the genetic toggle switch that looks like the one below (though locations of elements may be different).  Make sure the model is saved by either clicking on the Save icon <img src="../gui/icons/save.png" alt="../gui/icons/save.png" /> or selecting the Save option from the File menu.

<div class="p"><!----></div>

<center><img src="screenshots/saveGT.png" alt="screenshots/saveGT.png" />
</center>

<div class="p"><!----></div>
 <h2><a name="tth_sEc5">
5</a>&nbsp;&nbsp;SBOL Browser</h2>

<div class="p"><!----></div>
As mentioned above, a composite DNA component has been constructed for the entire genetic toggle switch.  To see this component, click on the GeneticToggle.sbol file in the list of project files to open the SBOL browser.  On the right side, scroll down and select the DNA component that you named MyGeneticToggle.  You will now see the complete annotated DNA sequence for this component.  Note how the pIKELeftCassette_1 has been put on the minus strand while the pIKERightCassette_1 follows it on the positive strand.

<div class="p"><!----></div>

<center><img src="screenshots/SBOLBrowserGT2.png" alt="screenshots/SBOLBrowserGT2.png" />
</center>

<div class="p"><!----></div>
 <h2><a name="tth_sEc6">
6</a>&nbsp;&nbsp;Analysis Tool</h2>

<div class="p"><!----></div>
This section describes how to analyze the model just created.  The first step is to create an analysis view.  To do this, right-click on the model file and select Create Analysis View.  Enter the analysis ID <tt>GeneticToggle</tt> or just press enter.  At this point, a new analysis view should open.  You should also notice that an icon appears next to your model file.  When you click on this, it will show you all of the analysis and learn views associated with this model.

<div class="p"><!----></div>

<center><img src="screenshots/createAnalysisViewGT.png" alt="screenshots/createAnalysisViewGT.png" /><br />
<img src="screenshots/analysisViewGT.png" alt="screenshots/analysisViewGT.png" />
</center>

<div class="p"><!----></div>
In order to perform analysis, the analysis tool first converts the model into a detailed reaction-based model.  There are three different ways to see the reaction-based model that is produced.  If GraphViz is installed on your computer, you can select Network for your Simulation Type.  Then, either press the Save and Run icon <img src="../gui/icons/run-icon.jpg" alt="../gui/icons/run-icon.jpg" /> or select the Save and Run option from the File menu.  The result will be a GraphViz window that will open to show the reaction-based model such as the one shown below for our example.  If it does not open in GraphViz, make sure that you have files with the <tt>.dot</tt> file extension associated with GraphViz on your computer.  You can also view the model in a web browser by selecting Browser for your simulation type.  In this case, you should ensure that you have files with the <tt>.xhtml</tt> extension associated with your favorite browser.  Finally, you can save the reaction-based model by selecting Model as your simulation type.  In this case, you must provide a new model ID.  This new model will appear in your project and it can be opened in the Model Editor.  Since this model does not include any layout information, you will need to either lay it out by hand or using one of the default layout routines selectable using the Apply Layout icon    <img src="../gui/icons/modelview/choose_layout_selected.png" alt="../gui/icons/modelview/choose_layout_selected.png" />.

<div class="p"><!----></div>

<center><img src="screenshots/viewNetworkGT.png" alt="screenshots/viewNetworkGT.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/viewBrowserGT.png" alt="screenshots/viewBrowserGT.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/reactionModelGT.png" alt="screenshots/reactionModelGT.png" />
</center>

<div class="p"><!----></div>
As you can see, this model is quite complex.  A simple model can be generated by selecting Abstraction to reduce the model using reaction-based abstractions based on the quasi-steady state assumption.  The abstracted model shown below is reduced from 15 species and 13 reactions to just 5 species and 5 reactions.  

<div class="p"><!----></div>

<center><img src="screenshots/reactionModelAbsGT.png" alt="screenshots/reactionModelAbsGT.png" />
</center>

<div class="p"><!----></div>
Now, go back to the simulation options tab.  Here, make sure that Abstraction is still selected, change the simulation type back to ODE, the simulator to Runge-Kutta-Fehlberg,  the time limit to 10000.0, the print interval to 100.0, and enter a Simulation ID of <tt>ode</tt>.  Then, either press the Save and Run icon <img src="../gui/icons/run-icon.jpg" alt="../gui/icons/run-icon.jpg" /> or select the Save and Run option from the File menu.
After the simulation completes, click on the TSD Graph tab.  Double-click on the graph to bring up the graph editor.
Open the <tt>ode</tt> simulation, highlight Average, select aTc, IPTG, and GFP, change the Title to "ODE Simulation Results", change the X-Axis Label to "Time (seconds)", and change the Y-Axis Label to "Number of Molecules".  
Press the OK button.  

<div class="p"><!----></div>

<center><img src="screenshots/odeSimGT.png" alt="screenshots/odeSimGT.png" /><br />
<img src="screenshots/odeResultsGT.png" alt="screenshots/odeResultsGT.png" /><br />
<img src="screenshots/odeSimResultsGT.png" alt="screenshots/odeSimResultsGT.png" />
</center>

<div class="p"><!----></div>
Graphs can be exported in a variety of formats including:

<ul>
<li> Time series data format (tsd).
<div class="p"><!----></div>
</li>

<li> Comma separated value (csv).
<div class="p"><!----></div>
</li>

<li> Column separated data (dat).
<div class="p"><!----></div>
</li>

<li> Encapsulated postscript (eps).
<div class="p"><!----></div>
</li>

<li> Joint Photographic Experts Group (jpg).
<div class="p"><!----></div>
</li>

<li> Portable document format (pdf).
<div class="p"><!----></div>
</li>

<li> Portable network graphics (png).
<div class="p"><!----></div>
</li>

<li> Scalable vector graphics (svg).
<div class="p"><!----></div>
</li>
</ul>
In order to export a graph, you can either click on the Export icon <img src="../gui/icons/export.jpg" alt="../gui/icons/export.jpg" /> or select one of the graph export options from the File menu.  When using the Export icon, the type of file exported will depend on the extension provided to the file name.  Click on the Export icon, browse to a location on your file system, and enter the file name of <tt>ode.pdf</tt> to create a PDF file for your graph.

<div class="p"><!----></div>

<center><img src="screenshots/exportTSD.png" alt="screenshots/exportTSD.png" />
</center>

<div class="p"><!----></div>
Now, select the Simulation Options tab again, select <tt>Monte Carlo</tt>, change the simulator SSA-Direct, the number of runs to 100, set the simulation ID to <tt>ssa</tt>, and click on the Save and Run icon.  Click on the TSD Graph tab.  Double-click on the graph to bring up the graph editor.  Click on Deselect All to remove the plotted points.  Open the <tt>ssa</tt> simulation directory, and highlight <tt>run-1</tt>.  Select aTc, IPTG, and GFP, and change the title to "SSA Simulation Results". Press the OK button.  Click on the Export icon and enter the file name <tt>ssa-1.pdf</tt>.  Repeat these steps to generate graphs for the average (<tt>average.pdf</tt>).

<div class="p"><!----></div>

<center><img src="screenshots/ssaSimGT.png" alt="screenshots/ssaSimGT.png" /><br />
<img src="screenshots/ssaResultsGT.png" alt="screenshots/ssaResultsGT.png" /><br />
<img src="screenshots/ssaSimResultsGT.png" alt="screenshots/ssaSimResultsGT.png" />
</center>

<div class="p"><!----></div>
Another way to view simulation results is on the schematic.  To do this, click on the schematic tab.  At the bottom of the window, select the Choose Simulation button, which brings up a window with all the simulations in this analysis view.  Open the <tt>ssa</tt> directory, select <tt>run-1.tsd</tt>, and press OK. 

<div class="p"><!----></div>

<center><img src="screenshots/chooseSimGT.png" alt="screenshots/chooseSimGT.png" />
</center>

<div class="p"><!----></div>
Now, click on the GFP species, which brings up the Edit Species window.  Select the Appearance tab.  Here you can select how you want the species to appear as you playback the simulation.  You can have it change color, size, and/or opacity on a gradient.  You can also select the range of molecule counts to specify the ends of the gradient(s).  Finally, you can indicate that these selections are either for this species or all species in the model.  For our example, let's make GFP  follow a green color gradient, IPTG follow a blue color gradient, LacI follow a cyan color gradient, aTc follow a red color gradient, and TetR follow a magenta gradient.

<center>
<img src="screenshots/editSpeciesAppearanceGT.png" alt="screenshots/editSpeciesAppearanceGT.png" />
</center>

<div class="p"><!----></div>
Once you have made your selections, you can now play back the simulation.  You can either single-step the simulation by pressing the <img src="../gui/icons/modelview/movie/single_step.png" alt="../gui/icons/modelview/movie/single_step.png" /> icon or play continuously by pressing the <img src="../gui/icons/modelview/movie/play.png" alt="../gui/icons/modelview/movie/play.png" /> icon.  The playback can also be paused by pressing the <img src="../gui/icons/modelview/movie/pause.png" alt="../gui/icons/modelview/movie/pause.png" /> icon and restarted by pressing the  <img src="../gui/icons/modelview/movie/rewind.png" alt="../gui/icons/modelview/movie/rewind.png" /> icon. 

<div class="p"><!----></div>

<center><img src="screenshots/movieViewGT.png" alt="screenshots/movieViewGT.png" />
</center>

<div class="p"><!----></div>
 <h2><a name="tth_sEc7">
7</a>&nbsp;&nbsp;Grid Models</h2>

<div class="p"><!----></div>
In the last example, we will build a model with a grid. 
Create a grid model using the File &#8594; New &#8594; Grid Model menu, and name the new model <tt>Population</tt>.  In the create grid window shown below, select your copy of your GeneticToggle model and change the number of rows and columns to 5.  

<div class="p"><!----></div>

<center><img src="screenshots/createGridGT.png" alt="screenshots/createGridGT.png" />
</center>

<div class="p"><!----></div>
The schematic in a grid model is a bit different.  It includes a grid in which each location can be empty or contain exactly one component.  Only components can be added to grids.

<div class="p"><!----></div>

<center><img src="screenshots/gridModelGT.png" alt="screenshots/gridModelGT.png" />
</center>

<div class="p"><!----></div>
Next, right-click on the Population model and create an analysis view.  Select Abstraction, Monte Carlo, and the SSA-Direct simulator.  Set the time limit to 10000 with a print interval of 100, and perform the simulation.  Now, go to the schematic tab and press the Choose Simulation button to select run-1.tsd.  Click on one of the genetic toggle switch models to bring up the Edit Species editor.  Select the GFP species and a green color gradient, and apply to all components with this model.  Now, play back the simulation to see the toggle switches turn on and off.

<div class="p"><!----></div>

<center><img src="screenshots/gridSimGT.png" alt="screenshots/gridSimGT.png" />
</center>

<div class="p"><!----></div>

<div class="p"><!----></div>

<center><img src="screenshots/compAppearancesGT.png" alt="screenshots/compAppearancesGT.png" />
</center>

<div class="p"><!----></div>

<center><img src="screenshots/gridSimResultsGT.png" alt="screenshots/gridSimResultsGT.png" />
</center>

<div class="p"><!----></div>

<br /><br /><hr /><small>File translated from
T<sub><font size="-1">E</font></sub>X
by <a href="http://hutchinson.belmont.ma.us/tth/">
T<sub><font size="-1">T</font></sub>H</a>,
version 3.81.<br />On 10 Sep 2014, 21:33.</small>
</html>
