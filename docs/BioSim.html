<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
<TITLE>Myers Circuit Research Group</TITLE>
<META NAME="GENERATOR" CONTENT="Microsoft FrontPage 5.0">
<META NAME="CREATED" CONTENT="20070806;14370600">
<META NAME="CHANGEDBY" CONTENT="Hiroyuki Kuwahara">
<META NAME="CHANGED" CONTENT="20070806;17452900">
<STYLE TYPE="text/css">
</STYLE>
</HEAD>
<BODY LANG="en-US" LINK="#0000aa" BGCOLOR="#dddddd" DIR="LTR">
<TABLE WIDTH=848 BORDER=0 CELLPADDING=0 CELLSPACING=0 STYLE="page-break-before: always">
<COL WIDTH=848>
<TR>
<TD WIDTH=848>
<P STYLE="margin-bottom: 0in"><BR>
</P>
<HR>
<H1 ALIGN=CENTER>BioSim Manual</H1>
<HR>
<UL>
<LI><A HREF="#INTRO"><FONT SIZE=4>Introduction</FONT></A>
<LI><A HREF="#PROJECTS"><FONT SIZE=4>Project Management</FONT></A>
<UL>
<LI><A HREF="#NEW">Creating Projects, Models, and Graphs</A>
<LI><A HREF="#OPEN">Opening Projects</A>
<LI><A HREF="#IMPORT">Importing Models</A>
<LI><A HREF="#CREATEVIEW">Creating Views</A>
<LI><A HREF="#VIEW">Viewing Models</A>
<LI><A HREF="#MODIFY">Modifying Project Objects</A>
</UL>
<LI><A HREF="#SBMLEDIT"><FONT SIZE=4>SBML Editor</FONT></A>
<UL>
<LI><A HREF="#COMPARTMENTS">Compartments</A>
<LI><A HREF="#SPECIES">Species</A>
<LI><A HREF="#REACTIONS">Reactions</A>
<UL>
<LI><A HREF="#KINETIC">Kinetic Law Formula Syntax</A>
</UL>
<LI><A HREF="#PARAMETERS">Parameters</A>
</UL>
<LI><A HREF="#ANALYSIS"><FONT SIZE=4>Analysis View</FONT></A>
<UL>
<LI><A HREF="#SIMOPTIONS">Basic Simulation Options</A>
<LI><A HREF="#ADVSIMOPTIONS">Advanced Simulation Options</A>
<LI><A HREF="#INTERESTING">Interesting Species</A>
<LI><A HREF="#USERDEFN">User Defined Data File</A>
<LI><A HREF="#TERMCOND">Termination Conditions</A>
<LI><A HREF="#ADVTERMCOND">Advanced Termination Conditions</A>
<LI><A HREF="#PROPERTIES">Properties</A>
</UL>
<LI><A HREF="#LEARN"><FONT SIZE=4>Learn View</FONT></A>
<UL>
<LI><A HREF="#DATA">Data Manager</A>
<LI><A HREF="#LEARNTOOL">Learn Tool</A>
<UL>
<LI><A HREF="#LEARNOPTIONS">Basic Learning Options</A>
<LI><A HREF="#ADVLEARN">Advanced Learning Options</A>
</UL>
</UL>
<LI><A HREF="#GRAPH"><FONT SIZE=4>Graph Editor</FONT></A>
<LI><A HREF="#CIRCUIT"><FONT SIZE=4>Circuit Model Format</FONT></A>
<LI><A HREF="#TSD"><FONT SIZE=4>Time Series Data Format</FONT></A>
<LI><A HREF="#CREDITS"><FONT SIZE=4>Credits</FONT></A>
</UL>
<H1><A NAME="INTRO"></A>Introduction</H1>

BioSim has been developed for the analysis of biochemical 
reaction network models.  While the primary target of BioSim is models
of genetic circuits, models representing metabolic networks, 
cell-signaling pathways, and other biological and chemical systems can
also be analyzed.  BioSim includes the following tools:
<UL>
<LI><A HREF="#SBMLEDIT">SBML Editor</A> - a tool to enter a biochemical 
    reaction network.
<LI><A HREF="#ANALYSIS">REB2SAC</A> - an analysis tool that utilizes various 
    abstraction methods to perform efficient ODE and Monte Carlo simulation 
    as well as Markov analysis.  The algorithms used in this tool are 
    described in <A HREF="http://www.async.ece.utah.edu/publications">
    Kuwahara's PhD Dissertation (UofUtah 2007)</A>.
<LI><A HREF="#LEARN">GeneNet</A> - a tool to learn a genetic circuit model
    from time series experimental data.  The algorithms used in this tool are 
    described in <A HREF="http://www.async.ece.utah.edu/publications">
    Barker's PhD Dissertation (UofUtah 2007)</A>.
<LI><A HREF="#GRAPH">Graph Editor</A> - this tool can be used to visualize
    data.
</UL>
BioSim can analyze models provided in either the 
<A HREF="http://www.sbml.org">Systems Biology Markup Language (SBML)</A>
or in our <A HREF="#CIRCUIT">circuit model format</A>.  The time series
data files used by our learning method can be in 
<A HREF="#TSD">time series data format</A>, comma separated value format, 
or tab delimited format.

<H1><A NAME="PROJECTS"></A>Project Management</H1>
A project is a collection of models, analysis views, learn views, and 
graphs.
<p>

<H2><A NAME="NEW"></A>Creating Projects, Models, and Graphs</H2>
To create a new project, select the File drop down menu from
the toolbar and select &quot;New Project&quot; under the New
option. You will then be prompted to browse to a desired location
and to give a name to the project directory. After you do
this, click the new button and a new project directory will be
created. 
<p>
To create a new SBML model, you must first have a project open.
Once this is done, select the File drop down menu from the toolbar
and select &quot;New Model&quot; under the New option. You will
then be prompted to give a model id. Once an id is entered, an
<A HREF="#SBMLEDIT">SBML editor</A> will open in a new tab.</p>
<p>
To create a new graph, you must first have a project open.
Once this is done, select the File drop down menu from the toolbar
and select &quot;New Graph&quot; under the New option. You will
then be prompted to give a name to the graph. Once a name is entered, a
<A HREF="#GRAPH">graph editor</A> will open in a new tab.</p>

<H2><A NAME="OPEN"></A>Opening Projects</H2>
To open a project, select the File drop down menu from the
toolbar and select &quot;Open Project&quot; under the Open option.
You will then be prompted to browse to a project directory that
you want to open. After you select the project directory, click
open and the project will open. 

<H2><A NAME="IMPORT"></A>Importing Models</H2>
The import option can be used to bring 
<A HREF="http://www.sbml.org">SBML</A> or 
<A HREF="#CIRCUIT">circuit models</A> created by other programs or 
stored in other projects into the current working project.
To import an SBML model, you must first have a project open.
Once this is done, select the File drop down menu from the toolbar
and select &quot;SBML&quot; under the Import option. You will then
be prompted to select a model to import. Select a desired model
and click the open button to import the SBML model into the
project.  To import a circuit model, the procedure is the same.

<H2><A NAME="CREATEVIEW"></A>Creating and Opening Views</H2>
To perform analysis or learning, right click on a model and select &quot;Create
<A HREF="#ANALYSIS">Analysis View</A>&quot; to perform analysis or
&quot;Create
<A HREF="#LEARN">Learn View</A>&quot; to perform learning. 
You will then be prompted to give a name to your analysis or learn view. 
After a name is entered, a tab with the newly created view will open.
<p>
Once a view is created, it can be opened again later by right
clicking on an analysis directory and selecting &quot;Open
Analysis View&quot; or alternatively double-clicking on the view.
</p>

<!--
<LI><P>Background Knowledge Network 
</P>
<P>The Background Knowledge Network field allows the user to
input known information reguarding the network of interest. The
names of these species must match the names used in the
simulation directory.</P>
-->

<H2><A NAME="VIEW"></A>Viewing Models</H2>
To view an SBML model, right click on the model you want to view. 
There are two ways to view an SBML model. You can either select the 
&quot;View Network&quot; option or the &quot;View in Browser&quot; option. 
The &quot;View Network&quot; option converts the model to a 
<A HREF="http://www.graphviz.org">GraphViz</A> file and then will open 
that file with GraphViz's dotty program.  The &quot;View in Browser&quot; 
option coverts the model to an xhtml file and opens that file with firefox.
To view a circuit model, right click on the model you want to view, and 
select the &quot;View Circuit&quot; option.  This opens the circuit using
<A HREF="http://www.graphviz.org">GraphViz's</A> dotty program.  

<H2><A NAME="MODIFY"></A>Modifying Project Objects</H2>
All project objects can be modified by highlighting the object and using
a right mouse click to open a menu of options.  Using this menu, every
type of object can be copied, renamed, or deleted.  For an SBML model,
the &quot;Edit&quot; option opens the model in an 
<A HREF="#SBMLEDIT">SBML editor</A>.  
For a circuit model, the &quot;Edit&quot; option opens the model in the 
<A HREF="http://www.gnu.org/software/emacs">Emacs</A> text editor.
For a graph, the &quot;View/Edit&quot; option opens the graph in a
<A HREF="#GRAPH">graph editor</A>.  
For an analysis view, the &quot;Open Analysis View&quot; option opens the 
<A HREF="#ANALYSIS">analysis view</A>.  
For a learn view, the &quot;Open Learn View&quot; option opens the 
<A HREF="#LEARN">learn view</A>.  

<H1><A NAME="SBMLEDIT"></A>SBML Editor</H1>
The SBML editor allows the user to create or modify an SBML model of
a biochemical reaction network.  This model includes 
<A HREF="#COMPARTMENTS">compartments</A>, <A HREF="#SPECIES">species</A>,
<A HREF="#REACTIONS">reactions</A>, and <A HREF="#PARAMETERS">parameters</A>.
Each of these items can be added, removed, or edited.  
<p>
To add a new item, click on the appropriate add button. You will then be 
prompted to provide a unique id and some properties for this new item
(as described below).  After you have filled out all of the required fields, 
click add and the new item will be added to the SBML model.</p> 
<p>
To remove an item from the model, select that item and
click the remove button. The item will then be removed from the
model.  However, if you try to remove a species that is used in a
reaction, you will first have to remove the reaction or remove
the species from the reaction in order to remove the species from
the model. Likewise, if you try to remove a compartment that
contains species, you will have to remove the species before you
will be able to remove the compartment.</p>
<p>
To edit an existing item, select that item from the list and click the edit 
button. An editing window will open and you will be able to change the
properties of that item.  When you are done editing this item,
click save to save the changes to the item. 
<p>
After the model is complete, press the Save button to store the model.
The Save As button can also be used to store the model, but in this case, 
a new model ID will be requested and the model will be saved using that ID.

<H2><A NAME="COMPARTMENTS"></A>Compartments</H2>
Compartments are used to specify locations where species are found.
Every model must include at least one compartment.  A new model includes 
a compartment named &quot;default&quot; that cannot be removed unless a 
new compartment is provided.  When adding or editing a compartment, the 
only field is the ID for the compartment.

<H2><A NAME="SPECIES"></A>Species</H2>
Species are the molecules that appear as reactants or products in the
reactions in the biochemical reaction network.  When adding or editing a
species, the user must provide an ID, a compartment assignment, and an
initial concentration (or amount) of the species.  A species ID must be
a string composed only of alphanumeric characters and underscores and 
start with an alphabetic character.

<H2><A NAME="REACTIONS"></A>Reactions</H2>
Reactions are used to create or destroy molecular species in a biochemical 
reaction network.  A reaction is composed of an ID, a reversable Boolean
flag, a list of reactants, a list of products, a list of parameters, and
a kinetic law.  A reaction is required to have an ID and a 
<A HREF="#KINETIC">syntatically correct kinetic law</A>.
The reversible Boolean flag indicates whether or not this reaction is
reversible.  When adding a reactant or product, the user must specify 
a species ID and the stoichiometry (i.e., the number of molecules produced
or consumed by the reaction).  The list of parameters begins with a 
default forward reaction rate (kf) and reverse reaction rate (kr).  
These names and their values should likely be edited.  The kinetic law
can either be automatically generated using the Use Mass Action button 
or manually entered using the syntax described below.  The Use Mass Action
button creates a rate law using the law of mass action.  It assumes that
the first parameter in the list is the forward reaction rate and the second
parameter in the list is the reverse reaction rate.  

<H3><A NAME="KINETIC"></A>Kinetic Law Formula Syntax</H3>
Kinetic law formulas are expressed as text strings using a
simple C-like syntax. Here are some syntax rules when dealing with
kinetic law formulas: 
<UL>
<LI><P STYLE="margin-bottom: 0in">Acceptable operators include:
add (+), subtract (-), multiply (*), and divide (/) 
</P>
<LI><P STYLE="margin-bottom: 0in">Supported functions include: 
</P>
<UL>
<!--
<LI><P STYLE="margin-bottom: 0in">abs(x) - Absolute Value 
</P>
<LI><P STYLE="margin-bottom: 0in">acos(x) - Arc Cosine 
</P>
<LI><P STYLE="margin-bottom: 0in">asin(x) - Arc Sine 
</P>
<LI><P STYLE="margin-bottom: 0in">atan(x) - Arc Tangent 
</P>
<LI><P STYLE="margin-bottom: 0in">ceil(x) - Ceiling 
</P>
<LI><P STYLE="margin-bottom: 0in">cos(x) - Cosine 
</P>
<LI><P STYLE="margin-bottom: 0in">exp(x) - e^x 
</P>
<LI><P STYLE="margin-bottom: 0in">floor(x) - Floor 
</P>
<LI><P STYLE="margin-bottom: 0in">log(x) - Natural Log 
</P>
<LI><P STYLE="margin-bottom: 0in">log(#, x) - Log Base # 
</P>
<LI><P STYLE="margin-bottom: 0in">sqr(x) - Squared 
</P>
-->
<LI><P STYLE="margin-bottom: 0in">pow(x, y) - x^y 
</P>
<!--
<LI><P STYLE="margin-bottom: 0in">sqrt(x) - Square Root 
</P>
<LI><P STYLE="margin-bottom: 0in">root(#, x) - x to the # root 
</P>
<LI><P STYLE="margin-bottom: 0in">sin(x) - Sine 
</P>
<LI><P STYLE="margin-bottom: 0in">tan(x) - Tangent 
</P>
-->
</UL>
<LI><P STYLE="margin-bottom: 0in">Acceptable variables include
anything listed in the products, reactants, or parameter fields. 
</P>
<LI><P>Real Numbers can also be entered into a kinetic law
formula. 
</P>
</UL>
The kinetic law editor also includes two buttons. The &quot;Use
Mass Action&quot; button will compute a mass action formula for
you and enter it into the kinetic law editor. The &quot;Clear&quot;
button will clear the kinetic law editor.

<H2><A NAME="PARAMETERS"></A>Parameters</H2>
Parameters are used to specify global parameters that can then
be used in the kinetic law for any reaction in the model.  A
parameter includes an ID and a value.

<H1><A NAME="ANALYSIS"></A>Analysis View</H2>
The analysis view is used to analyze biochemcial reaction network
models.  The analysis view includes tabs for a
<A HREF="#SIMOPTIONS">simulation tool</A>, a 
<A HREF="#SBMLEDIT">SBML editor</A>, and a 
<A HREF="#GRAPH">graph editor</A>.

<H2><A NAME="SIMOPTIONS"></A>Basic Simulation Options</H2>
BioSim comes with a number of simulation methods, ranging from
continuous-deterministic simulation methods to discrete-stochastic
simulation methods.  In order to perform efficient temporal
behavior analysis, various model abstraction can be automatically
applied.  This section and the following ones describe each sub-tab 
of the simulation tab.  These options support a limited functionality 
of the REB2SAC modeling and analysis tool described in 
<A HREF="http://www.async.ece.utah.edu/publications">
Kuwahara's PhD Dissertation (UofUtah 2007)</A>.
<p>
The radio button on the top of this tab specifies the levels of
abstraction.   Choose ‘None’ if you don’t want to abstract
your model, ‘Abstraction’ if you want to perform the default
reaction-based abstraction, and ‘Abstraction &amp; Nary’ if
you want to further abstract your model by generating its
finite-state Markov chain model (note this option may not work
with the current version of BioSim).</p> 
<p>
The radio button below of that  specifies the simulation type. 
‘ODE’ is the continuous-deterministic simulation method, ‘
Monte Carlo’ is the discrete-stochastic simulation method,
‘Markov’ performs temporal probability distribution analysis
on finite-state Markov chain model (note this option may not work
with the current version of BioSim), ‘sbml’ outputs the model
in SBML format, ‘dot’ outputs the structure of the model in
the dot format, ‘xhtml’ outputs the information on the model
in xhtml format with MathML presentation entries for kinetic laws.</p>
<p>
The next redio button asks if you want to overwrite the
simulation runs or if you want to append more simulation runs. 
Choose `overwrite’ to overwrite simulation runs and ‘append’
to append simulation runs.  Initially, if you don’t have not
performed any simulation, this option is disabled.</p> 
<p>
The next field specifies the simulation method you want to use
based on the simulation type you specified.</p>
<UL>
<LI>ODE
</UL>
<DL>
<DD>
<TABLE WIDTH=611 BORDER=1 CELLPADDING=4 CELLSPACING=3 STYLE="page-break-inside: avoid">
<COL WIDTH=192>
<COL WIDTH=392>
<TR VALIGN=TOP>
<TD WIDTH=192>
	<P ALIGN=CENTER>Method ID</P>
</TD>
<TD WIDTH=392>
	<P ALIGN=LEFT>Description</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=192>
	<P ALIGN=CENTER>euler</P>
</TD>
<TD WIDTH=392>
	<P ALIGN=LEFT>The forward Euler Method</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=192>
	<P ALIGN=CENTER>gear1</P>
</TD>
<TD WIDTH=392>
	<P ALIGN=LEFT>Gear Method M=1 (see GSL manual for more info)</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=192>
	<P ALIGN=CENTER>gear2</P>
</TD>
<TD WIDTH=392>
	<P ALIGN=LEFT>Gear Method M=2 (see GSL manual for more info)</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=192>
	<P ALIGN=CENTER>rk4imp</P>
</TD>
<TD WIDTH=392>
	<P ALIGN=LEFT>Implicit 4th order Runge-Kutta at Gaussian
	  points (see GSL manual for more info)</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=192>
	<P ALIGN=CENTER>rk8pd</P>
</TD>
<TD WIDTH=392>
	<P ALIGN=LEFT>Embedded Runge-Kutta Prince-Dormand (8,9) method
	(see GSL manual for more info)</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=192>
	<P ALIGN=CENTER>rkf45</P>
</TD>
<TD WIDTH=392>
	<P ALIGN=LEFT>Embedded Runge-Kutta-Fehlberg (4, 5) method (see
	GSL manual for more info)</P>
</TD>
</TR>
</TABLE>
</DL>
<UL>
<LI><P>Monte Carlo</P>
</UL>
<DL>
<DD>
<TABLE WIDTH=614 BORDER=1 CELLPADDING=4 CELLSPACING=3 STYLE="page-break-inside: avoid">
<COL WIDTH=194>
<COL WIDTH=393>
<TR VALIGN=TOP>
<TD WIDTH=194>
	<P ALIGN=CENTER>Method ID</P>
</TD>
<TD WIDTH=393>
	<P ALIGN=LEFT>Description</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=194>
	<P ALIGN=CENTER>gillespie</P>
</TD>
<TD WIDTH=393>
	<P ALIGN=LEFT>Gillespie's SSA in Direct method</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=194>
	<P ALIGN=CENTER>emc-sim</P>
</TD>
<TD WIDTH=393>
	<P ALIGN=LEFT>Monte Carlo simulation with jump count as
	independent variable</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=194>
	<P ALIGN=CENTER>bunker</P>
</TD>
<TD WIDTH=393>
	<P ALIGN=LEFT>Bunker's method: Next reaction time step is
	calculated using the average.   
</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=194>
	<P ALIGN=CENTER>nmc</P>
</TD>
<TD WIDTH=393>
	<P ALIGN=LEFT>Monte Carlo simulation with normally distributed
	next reaction time</P>
</TD>
</TR>
</TABLE>
</DL>
There are some properties that needs to be set for simulation. 
Below is the table specifies such simulation properties.</P>
<TABLE WIDTH=667 BORDER=1 CELLPADDING=4 CELLSPACING=3 STYLE="page-break-inside: avoid">
<COL WIDTH=235>
<COL WIDTH=405>
<TR VALIGN=TOP>
<TD WIDTH=235>
	<P ALIGN=CENTER>Field</P>
</TD>
<TD WIDTH=405>
	<P>Description</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=235>
	<P ALIGN=CENTER>Time Limit</P>
</TD>
<TD WIDTH=405>
	<P>The simulation time limit</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=235>
	<P ALIGN=CENTER>Print Interval</P>
</TD>
<TD WIDTH=405>
	<P>The print time interval of each simulation run</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=235>
	<P ALIGN=CENTER>Time Step</P>
</TD>
<TD WIDTH=405>
	<P>The time step for the Euler method</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=235>
	<P ALIGN=CENTER>Random Seed</P>
</TD>
<TD WIDTH=405>
	<P>An integer number as a seed to generate random numbers for
	the Monte Carlo simulation methods</P>
</TD>
</TR>
<TR VALIGN=TOP>
<TD WIDTH=235>
	<P ALIGN=CENTER>Runs</P>
</TD>
<TD WIDTH=405>
	<P>A number of Monte Carlo simulation runs to perform</P>
</TD>
</TR>
</TABLE>

<H2><A NAME="ADVSIMOPTIONS"></A>Advanced Simulation Options</H2>
This allows the user to set the properties of rapid equilibrium, QSSA,
and operator site abstraction methods.&nbsp;&nbsp;
<p>
The <i>reb2sac.rapid.equilibrium.condition.1</i>
specifies the threshold T1 such that the rapid equilibrium condition 
fails when T1 &gt; E0 / (S0 + k-1/k1).</p>
<p>
The <i>reb2sac.rapid.equilibrium.condition.2</i> specifies the threshold T2 
such that the rapid equilibrium condition fails when T1 &gt; k2 /k-1.</P>
<p>
The <i>QSSA condition</i> specifies the threshold T used by the QSSA 
abstraction method where T &gt; E0 / (S0 + KM).
</p>
<p>
The <i>Max concentration threshold</i> specifies the maximum number of 
molecules that a species can have initially and still be considered an 
operator site by the operator site reduction.

<H2><A NAME="INTERESTING"></A>Interesting Species</H2>
Interesting species are the ones that are used in the analysis,
and hence are those which should not be abstracted. 

<H2><A NAME="USERDEFN"></A>User Defined Data File</H2>
This can deterministically specify how the state of each
species can  change at some specified time point in Gillespie’s
SSA. 

<H2><A NAME="TERMCOND"></A>Termination Conditions</H2>
The termination conditions can specify a set of simple
conditions to terminate each simulation run (either ODE or Monte
Carlo) before the time limit when at least one of them is
satisfied.   This option can, for example, be very useful for 
computational analysis of phenotype variations. 

<H2><A NAME="ADVTERMCOND"></A>Advanced Termination Conditions</H2>
The advanced termination conditions specify a condition upon which a
simulation should terminate.  A record is kept of the proportion of 
simulations that are terminated by each condition.  These conditions are
specified using the language described below:
<P><FONT FACE="Courier 10 Pitch"><FONT SIZE=2><FONT FACE="Courier 10 Pitch"><FONT SIZE=2>term
&lt;id&gt; {</FONT></FONT></FONT></FONT></P>
<P>  <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>desc &lt;string&gt;;</FONT></FONT></P>
<P>  <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>cond &lt;bool-exp&gt;;</FONT></FONT></P>
<P><FONT FACE="Courier 10 Pitch"><FONT SIZE=2>}</FONT></FONT></P>
<P><FONT FACE="Nimbus Roman No9 L, serif"><FONT SIZE=3>where &lt;id&gt;
is the ID for this termination condition, desc is the description
of this termination condition,and cond is the predicate which must
hold to terminate a simulation/analysis procedure.</FONT></FONT></P>
<P><FONT FACE="Courier 10 Pitch"><FONT SIZE=2><FONT FACE="Courier 10 Pitch"><FONT SIZE=2>bool-exp
:= </FONT></FONT></FONT></FONT>
</P>
<P>      <FONT FACE="Courier 10 Pitch"><FONT SIZE=2><FONT FACE="Courier 10 Pitch"><FONT SIZE=2>&lt;logical_exp&gt;</FONT></FONT></FONT></FONT></P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>|  &lt;comp_exp&gt;</FONT></FONT></P>
<BR>
<P><FONT FACE="Courier 10 Pitch"><FONT SIZE=2>logical_exp :=</FONT></FONT></P>
<P>      <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>&lt;bool_exp&gt;
&amp;&amp; &lt;bool_exp&gt;   // and </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| &lt;bool_exp&gt;
|| &lt;bool_exp&gt;   // or </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| !&lt;bool_exp&gt;
               // not</FONT></FONT></P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| (
&lt;logical_exp&gt; )            </FONT></FONT>
</P>
<P><BR></P>
<P> <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>comp_exp :=</FONT></FONT></P>
<P>      <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>&lt;num_exp&gt;
&lt;= &lt;num_exp&gt;     // less than or equal to</FONT></FONT></P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| &lt;num_exp&gt;
&lt; &lt;num_exp&gt;      // less than</FONT></FONT></P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| &lt;num_exp&gt;
&gt;= &lt;num_exp&gt;     // greater than or equal to</FONT></FONT></P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| &lt;num_exp&gt;
&gt; &lt;num_exp&gt;      // greater than</FONT></FONT></P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| &lt;num_exp&gt;
= &lt;num_exp&gt;      // equal to</FONT></FONT></P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| ( &lt;comp_exp&gt;
)                         </FONT></FONT>
</P>
<P><BR></P>
<P> <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>num_exp := </FONT></FONT>
</P>
<P>      <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>&lt;num_exp&gt;
+ &lt;num_exp&gt;       </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| &lt;num_exp&gt;
- &lt;num_exp&gt; </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| &lt;num_exp&gt;
* &lt;num_exp&gt; </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| &lt;num_exp&gt;
/ &lt;num_exp&gt;         // floating point division </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| - &lt;num_exp&gt;
                  // unary minus </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| ( &lt;num_exp&gt;
)            </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| exp( &lt;num_exp&gt;
)              // e^x            </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| pow(
&lt;num_exp&gt;, &lt;num_exp&gt; )   // x^y         </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| log( &lt;num_exp&gt;
)              // ln(x)  </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| &lt;constant&gt;
                   // constant e.g., 1, 3.14159265, 1.0e-103, etc 
    </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| t             
               // variable representing time  </FONT></FONT>
</P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| #$&lt;species-id&gt;</FONT></FONT></P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>| %$&lt;species-id&gt;</FONT></FONT></P>
<P>    <FONT FACE="Courier 10 Pitch"><FONT SIZE=2>|
#@&lt;reaction-id&gt;</FONT></FONT></P>
<P> 
</P>
<P><FONT FACE="Nimbus Roman No9 L, serif"><FONT SIZE=3><FONT FACE="Nimbus Roman No9 L, serif"><FONT SIZE=3>where
$&lt;species-id&gt; represent species, #$&lt;species-id&gt; is the
variable for the molecular count of &lt;species-id&gt;,
%$&lt;species-id&gt; is the variable for concentration of
&lt;species-id&gt;, @&lt;reaction-id&gt; represent reaction,
</FONT></FONT>#@&lt;reaction-id&gt; is the variable for the number
of firings of &lt;reaction-id&gt;, and t is the variable
representing time.</FONT></FONT></P>

<H2><A NAME="PROPERTIES"></A>Properties</H2> 
Here, you can specify additional properties for your analysis.&nbsp; 
Each property consists of property ID and its value.&nbsp; For 
example, property <i>reb2sac.abstraction.method.1.x</i>&nbsp; 
specifies a list of abstraction methods used for pre-processing, 
property <i>reb2sac.abstraction.method.2.x </i>specifies a list of 
abstraction methods used in the main abstraction loop, and&nbsp; 
property <i>abstraction.method.3.x</i> is a list of abstraction 
methods used for post-processing.&nbsp; These abstraction method 
properties can take the following values:
<ul>
<li>modifier-structure-transformer</li>
<li>modifier-constant-propagation</li>
<li>operator-site-forward-binding-remover</li>
<li>nary-order-unary-transformer2</li>
<li>kinetic-law-constants-simplifier</li>
<li>enzyme-kinetic-rapid-equilibrium-1</li>
<li>dimer-to-monomer-substitutor</li>
<li>dimerization-reduction</li>
<li>kinetic-law-constants-simplifier</li>
<li>irrelevant-species-remover</li>
<li>inducer-structure-transformer</li>
<li>final-state-generator</li>
<li>similar-reaction-combiner</li>
<li>absolute-inhibition-generator</li>
<li>reversible-to-irreversible-transformer</li>
<li>multiple-products-reaction-eliminator</li>
<li>multiple-reactants-reaction-eliminator</li>
<li>single-reactant-product-reaction-eliminator</li>
<li>stop-flag-generator</li>
<li>enzyme-kinetic-qssa-1</li>
<li>birth-death-generator4</li>
<li>max-concentration-reaction-adder</li>
<li>dummy-abstraction-method</li>
</ul>

<H1><A NAME="LEARN"></A>Learn View</H1>
The learn view is used to discover the genetic circuit connectivity
from time series data.  The learn view includes tabs for a
<A HREF="#DATA">data manager</A>, a
<A HREF="#LEARNTOOL">learn tool</A>, and a
<A HREF="#GRAPH">graph editor</A>.

<!-- NEED TO ADD DESCRIPTION OF DATA ENTRY TOOL -->
<H2><A NAME="DATA"></A>Data Manager</H2>
The data manager is used to both enter time series experimental data 
(not yet implemented) as well as bring data into the learn view.
The Add button is used to create a new data file.  After pressing
this button, enter the name of the new data file, and then enter
the data for this file using the data editor to the right.
The Remove button deletes all highlighted files.  Note that after
highlighting one file, you can use the ctrl key to highlight
additional files or the shift key to highlight a range of files.
The Rename button is used to change the name of a data file.
The Copy button copies a data file.
The Copy From View button brings up a list of all analysis and 
learn views in the current project, and data from the selected
view will be copied into this learn view.
Finally, the Import button brings up a file browser, and it allows
you to import a data file from outside this project into this
learn view.  These files can be in <A HREF="#TSD">time series data</A>
format, comma separated value format, or tab delimited format.

<H2><A NAME="LEARNTOOL"></A>Learn Tool</H2>
The learn tool uses the GeneNet algorithm described in
<A HREF="http://www.async.ece.utah.edu/publications">
Barker's PhD dissertation (UofUtah 2007)</A>.  To use this learn tool,
adjust any options described below, if desired, then press the
Learn button.  The resulting genetic circuit in specified using our
<A HREF="#CIRCUIT">circuit model format</A> and shown
graphically using <A HREF="http://www.graphviz.org">GraphViz's Dotty tool</A>.

<H3><A NAME="LEARNOPTIONS"></A>Basic Learning Options</H3>
<UL>
<LI>Minimum Initial Number of Vectors (Tn) (default=2): 
<P>Tn is a threshold value used in the CreateInfluenceVectorSet
algorithm and represents the minimum number of influence vectors
constructed in this algorithm</P>
<LI>Maximum Influence Vector Size (Tj) (default=2): 
<P>Tj is a threshold value used in the CombineInfluenceVectors
algorithm to determine the maximal size of merged influence
vectors</P>
<LI>Score for an Empty Influence Vector (Ti) (default=0.5): 
<P>The score for an influence vector with no influences in it.</P>
<LI>Number of Bins (default=4):
<P>The Number of Bins value specifies how many values the encoded
time series data can assume</P>
<LI>Equal Data Per Bins / Equal Spacing of Bins:
<P>This radio button selects whether the auto generated levels should
be determined by equaling dividing the data between the bins or by
equally dividing the range of the data.
</P>
<LI>Use Auto Generated Levels / Use User Generated Levels:
<P>This radio button allows the user to select whether they want the levels
separating the bins to be auto generated or the user would like to provide them.
</P>
<LI>When using user provided levels, the Suggest Levels button will
provide the levels that would have been auto generated as a suggestion.
These levels can then edited by the user.  The number of bins for 
each species can also be individually adjusted.
</UL>
</UL>

<H3><A NAME="ADVLEARN"></A>Advanced Learning Options</H3>
<UL>
<LI>Ratio for Activation (Ta) (default=1.15): 
<P>A probability ratio above this value results in a vote 
for an influence vector that has a majority of activation
influences.</P>
<LI>Ratio for Repression (Tr) (default=0.75): 
<P>A probability ratio above this value results in a vote 
for an influence vector that has a majority of repression
influences.</P>
<LI>Merge Influence Vectors Delta (Tm) (default=0.0): 
<P>Two influence vectors cannot be merged unless the difference
in their scores is less than this value.</P>
<LI>Relax Thresholds Delta (Tt) (default=0.025): 
<P>The values of Ta and Tr are modified by this amount when these
thresholds are relaxed.</P>
<LI>Debug Level (default=0): 
<P>This controls how much information is displayed by the GeneNet algorithm
when it runs.</P>
<LI>Successors / Predecessors / Both (default=Successors):
<P>This radio button selects whether successor data point pairs, 
predecessor data point pairs, or both are used.</P>
<LI>Basic FindBaseProb (default=unchecked):
<P>When selected, the basic FindBaseProb function is used.</P>
</UL>

<H1><A NAME="GRAPH"></A>Graph Editor</H1>

To graph data, perform a simulation to create some data or
right click on an analysis directory that has data in it and
select &quot;Open Analysis View&quot;. You will see a &quot;Graph&quot;
tab. Select this tab and you will have some graphing options. By
clicking on the graph, you will be able to change what is graphed
and how the graph looks. Here are your options: 
<UL>
<LI><P STYLE="margin-bottom: 0in">Title - The Title Of The Graph </P>
<LI><P STYLE="margin-bottom: 0in">X-Axis Label - The Label Displayed For The X-Axis </P>
<LI><P STYLE="margin-bottom: 0in">Y-Axis Label - The Label Displayed For The Y-Axis </P>
<LI><P STYLE="margin-bottom: 0in">X-Min - The Starting Value For The X-Axis </P>
<LI><P STYLE="margin-bottom: 0in">X-Max - The Ending Value For The X-Axis </P>
<LI><P STYLE="margin-bottom: 0in">X-Step - The Increment Of The X-Axis </P>
<LI><P STYLE="margin-bottom: 0in">Y-Min - The Starting Value For The Y-Axis </P>
<LI><P STYLE="margin-bottom: 0in">Y-Max - The Ending Value For The Y-Axis </P>
<LI><P STYLE="margin-bottom: 0in">Y-Step - The Increment Of The Y-Axis </P>
<LI><P STYLE="margin-bottom: 0in">Auto Resize Check Box - 
Determines Whether Or Not To Automatically Resize The Graph To The Best Fit </P>
<LI><P STYLE="margin-bottom: 0in">Data Selection Menu - This Menu
Displays All Of The Available Sets Off Data You Can Graph. Select
A Set Of Data And Then You Can Select Which Species To Display </P>
<LI><P STYLE="margin-bottom: 0in">Use Check Box - Determines
Whether Or Not This Species Is Displayed On The Graph </P>
<LI><P STYLE="margin-bottom: 0in">Species Label - The Name
Displayed On The Graph For This Species </P>
<LI><P STYLE="margin-bottom: 0in">Drop Down Menu Of Colors - The
Color That Will Be Used To Draw The Line For This Species </P>
<LI><P STYLE="margin-bottom: 0in">Drop Down Menu Of Shapes - The
Shape That Will Be Used To Mark The Points On The Line For This Species </P>
<LI><P STYLE="margin-bottom: 0in">Connected Check Box -
Determines Whether Or Not A Line Will Be Drawn That Connects The
Shapes For This Species </P>
<LI><P STYLE="margin-bottom: 0in">Visible Check Box - Determines
Whether Or Not Shapes Will Be Visible On The Line For This Species </P>
<LI><P>Filled Check Box - Determines Whether Or Not Shapes Will
Be Filled In On The Line For This Species </P>
</UL>
<P>To save the graph, click the &quot;Save&quot; button. This will
save the data of the graph to a file so when you re-open the
analysis view, it will reload this data and display what was
graphed.</P>
<P>To export the graph, click one of the &quot;Export&quot;
buttons. You will then be prompted to give a desired pixel height
and width for the file. Once this is done, you will be prompted to
select a location and a name for the file you are saving. After
you make these selections, click the &quot;Export&quot; button and
the graph will be exported. <BR>&nbsp; </P>

<H1><A NAME="CIRCUIT"></A>Circuit Model Format</H1>
Our circuit model format species a genetic circuit using the same
format as the <A HREF="http://www.graphviz.org">GraphViz</A> graph
drawing tool.  The vertices in the graph are the species in the genetic 
circuit, and the edges in the graph represent the activation and repression 
relationships between the species.  An activation relationship
is shown with a blue (blue4) arrow (vee) and a repression relationship is 
shown with a red (firebrick4) tee.  An example is shown below for a simple 
genetic circuit in which the species CI dimer represses CII while CII activates CI
production.  

<p>
digraph G {<BR>
s1 [shape=ellipse,color=black,label="CI"];<BR>
s2 [shape=ellipse,color=black,label="CII"];<BR>
s2 -> s1 [color="blue4",arrowhead=vee]<BR>
s1 -> s2 [color="firebrick4",label="2",arrowhead=tee]<BR>
}
</p>

The label field in the species declaration is the name of the species.  The
arrowhead field in the relationship declaration represents the type of relationship between
the species.  Repression is labeled with a tee and activation is labeled with a vee.
The label field in the relationship declaration represents how many molecules are necessary
to activate or repress the production of the species.  In the case of s1->s2,
the label field is "2", which means two molecules of CI are required to form a dimer
to repress CII.  

More advanced behavior can be modeled by using extra fields.  The promoter field
groups a set of species together.  The examples below shows how the promoter field works.
In the circuit model below, species A represses the production of species B and C, independently.  If there
was exactly 1 molecule of species A, it would only be able to represses production of species B or C, but not both.
<p>
digraph G {<BR>
s1 [shape=ellipse,color=black,label="A"];<BR>
s2 [shape=ellipse,color=black,label="B"];<BR>
s3 [shape=ellipse,color=black,label="C"];<BR>
s1 -> s2 [color="blue4",arrowhead=tee]<BR>
s1 -> s3 [color="blue4",arrowhead=tee]<BR>
}
</p>

With the promoter field, one species A now represses the promoter "P1", which produces both species B and C.  This
means that one molecule of species A will repress the production of both species B and C.  
<p>
digraph G {<BR>
s1 [shape=ellipse,color=black,label="A"];<BR>
s2 [shape=ellipse,color=black,label="B"];<BR>
s3 [shape=ellipse,color=black,label="C"];<BR>
s1 -> s2 [color="blue4",arrowhead=tee,promoter="P1"]<BR>
s1 -> s3 [color="blue4",arrowhead=tee,promoter="P1"]<BR>
}
</p>

The promoter field can also be used to separate production reactions.  In the example
below, both species A and B can repress the production of species C.  If either is present,
then very little C will be produced.  This behavior is an NOR gate.  
<p>
digraph G {<BR>
s1 [shape=ellipse,color=black,label="A"];<BR>
s2 [shape=ellipse,color=black,label="B"];<BR>
s3 [shape=ellipse,color=black,label="C"];<BR>
s1 -> s3 [color="blue4",arrowhead=tee]<BR>
s2 -> s3 [color="blue4",arrowhead=tee]<BR>
}
</p>

However, if there needs to be two different sources of production for species C, the 
promoter field can be used to accomplish this.  In the example below, A represses
the production of C by binding to the P1 promoter, and B represses the production of
C by binding to the P2 promoter.  Both A and B needs to be present to fully repress
the level of C.  If either is at a low level, then the level of C will be high.  This
behavior is a NAND gate.

<p>
digraph G {<BR>
s1 [shape=ellipse,color=black,label="A"];<BR>
s2 [shape=ellipse,color=black,label="B"];<BR>
s3 [shape=ellipse,color=black,label="C"];<BR>
s1 -> s3 [color="blue4",arrowhead=tee,promoter="P1"]<BR>
s2 -> s3 [color="blue4",arrowhead=tee,promoter="P2"]<BR>
}
</p>


The example below shows how to model an AND gate.  The species A and B have
the constant flag set to true.  This means that A and B have no production
and degradation reactions.  The reactions contain a promoter label "P1".  This means
that the species C can be activated by both s1 and s2.  Combined with the type flag
of biochemical, this creates a biochemical reaction where species A and B combine together
to form a complex to activate production of species C.
<p>
digraph G {<BR>
s1 [shape=ellipse,color=black,label="A",const=true];<BR>
s2 [shape=ellipse,color=black,label="B",const=true];<BR>
s3 [shape=ellipse,color=black,label="C"];<BR>
s1 -> s3 [color="blue4",arrowhead=vee,promoter="P1",type=biochemical]<BR>
s2 -> s3 [color="blue4",arrowhead=vee,promoter="P1",type=biochemical]<BR>
}
</p>

<H1><A NAME="TSD"></A>Time Series Data Format</H1>
The time series data format is composed of a parenthesized and 
comma-separated set of time points.  Each time point is composed of a
paranthesized and comma-separated set of data for that time point. 
This first time point is composed of a set of strings that are the 
labels for the data entries.  The first entry in each time point is 
by convention the time for that time point.  Below is an example 
simulation of the species CI and CII from 0 to 2100 seconds with 
time points separated by 100 seconds.
<p>
(("time","CI","CII"),(0,0,0),(100,0,19),(200,20,25),(300,19,18),(400,17,20),(500
,17,46),(600,26,40),(700,43,43),(800,63,28),(900,72,34),(1000,72,28),(1100,71,23
),(1200,81,21),(1300,79,15),(1400,78,4),(1500,76,0),(1600,76,5),(1700,76,0),(180
0,76,0),(1900,76,0),(2000,75,0),(2100,72,0))
</p>

<H1><A NAME="CREDITS"></A>Credits</H1>
The BioSim tool is being developed at the Univesity of Utah by
<A HREF="http://www.cs.utah.edu/~barkern">Nathan Barker</A>, 
<A HREF="http://www.cs.utah.edu/~kuwahara">Hiroyuki Kuwahara</A>, 
<A HREF="http://www.async.ece.utah.edu/~cmadsen">Curtis Madsen</A>, 
<A HREF="http://www.async.ece.utah.edu/~myers">Chris Myers</A>, and 
<A HREF="http://www.cs.utah.edu/~namphuon">Nam Nguyen</A>.

</TD>
</TR>
</TABLE>
</BODY>
</HTML>
